(()=>{"use strict";function e(){for(var e=document.querySelectorAll("button"),t=0;t<e.length;t++){if(e[t].innerText.startsWith("Regenerate response"))return!0}return!1}function t(){if(document.querySelector("#as-screenshot-btn"))e()||document.querySelector("#as-screenshot-btn").remove();else{if(!e())return;var t=document.querySelector("#__next main form > div div:nth-of-type(1) > div");if(t){var n=document.createElement("button");n.className="btn relative btn-neutral border-0 md:border as-tooltip",n.id="as-screenshot-btn",n.setAttribute("aria-label","Awesome Screenshot"),n.as="button",n.innerHTML='<div class="flex w-full items-center justify-center gap-2" aria-label="Awesome Screenshot"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="12" height="12"><path d="M21.75 21.5H2.25A1.75 1.75 0 0 1 .5 19.75V4.25c0-.966.784-1.75 1.75-1.75h19.5c.966 0 1.75.784 1.75 1.75v15.5a1.75 1.75 0 0 1-1.75 1.75ZM2.25 4a.25.25 0 0 0-.25.25v15.5c0 .138.112.25.25.25h3.178L14 10.977a1.749 1.749 0 0 1 2.506-.032L22 16.44V4.25a.25.25 0 0 0-.25-.25ZM22 19.75v-1.19l-6.555-6.554a.248.248 0 0 0-.18-.073.247.247 0 0 0-.178.077L7.497 20H21.75a.25.25 0 0 0 .25-.25ZM10.5 9.25a3.25 3.25 0 1 1-6.5 0 3.25 3.25 0 0 1 6.5 0Zm-1.5 0a1.75 1.75 0 1 0-3.501.001A1.75 1.75 0 0 0 9 9.25Z"></path></svg> Screenshot</div>',n.addEventListener("click",(function(){chrome.runtime.sendMessage({action:"entire"},(function(){var e;(e=document.createElement("style")).innerHTML="\n  #__next .w-full.h-full>div:first-child {\n    display: none !important;\n  }\n  form {\n    display: none !important;\n  }\n  form+div.px-3 {\n    display: none !important;\n  }\n  .cursor-pointer.absolute.right-6.bottom-\\[124px\\] {\n    display: none !important;\n  }\n  ",e.id="screenshot-chatgpt-style",document.body.appendChild(e)}))})),t.appendChild(n)}}}chrome.runtime.onMessage.addListener((function(e,t,n){var r;"removeChatgptStyle"===e.action&&(r=document.querySelector("#screenshot-chatgpt-style"))&&r.remove()})),t(),setInterval((function(){t()}),500)})();