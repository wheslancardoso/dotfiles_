/*!
 * InboxSDK
 * https://www.inboxsdk.com/
 *
 * The use of InboxSDK is governed by the Terms of Services located at
 * https://www.inboxsdk.com/terms


 *  __    __            _     _          _                _                      ___                 _ _ ___
 * / / /\ \ \__ _ _ __ | |_  | |_ ___   | |__   __ _  ___| | __   ___  _ __     / _ \_ __ ___   __ _(_) / _ \
 * \ \/  \/ / _` | '_ \| __| | __/ _ \  | '_ \ / _` |/ __| |/ /  / _ \| '_ \   / /_\/ '_ ` _ \ / _` | | \// /
 *  \  /\  / (_| | | | | |_  | || (_) | | | | | (_| | (__|   <  | (_) | | | | / /_\\| | | | | | (_| | | | \/
 *   \/  \/ \__,_|_| |_|\__|  \__\___/  |_| |_|\__,_|\___|_|\_\  \___/|_| |_| \____/|_| |_| |_|\__,_|_|_| ()
 *
 * Like complex reverse engineering? Want to make Gmail and Inbox a hackable platform?
 *
 * Join us at: www.streak.com/careers?source=sdk
 */
!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){return i(t[s][1][e]||e)}),l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},{}],2:[function(e,t,n){var r=e("./arrayLikeToArray.js");t.exports=function(e){if(Array.isArray(e))return r(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayLikeToArray.js":1}],3:[function(e,t,n){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],4:[function(e,t,n){var r=e("./toPropertyKey.js");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}t.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},t.exports.__esModule=!0,t.exports.default=t.exports},{"./toPropertyKey.js":10}],5:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],6:[function(e,t,n){t.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{}],7:[function(e,t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],8:[function(e,t,n){var r=e("./arrayWithoutHoles.js"),i=e("./iterableToArray.js"),o=e("./unsupportedIterableToArray.js"),s=e("./nonIterableSpread.js");t.exports=function(e){return r(e)||i(e)||o(e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayWithoutHoles.js":2,"./iterableToArray.js":6,"./nonIterableSpread.js":7,"./unsupportedIterableToArray.js":12}],9:[function(e,t,n){var r=e("./typeof.js").default;t.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./typeof.js":11}],10:[function(e,t,n){var r=e("./typeof.js").default,i=e("./toPrimitive.js");t.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./toPrimitive.js":9,"./typeof.js":11}],11:[function(e,t,n){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},{}],12:[function(e,t,n){var r=e("./arrayLikeToArray.js");t.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayLikeToArray.js":1}],13:[function(e,t,n){t.exports=function(e,t){var n="number"==typeof e,r="number"==typeof t;n&&!r?(t=e,e=0):n||r||(e=0,t=0);var i=(t|=0)-(e|=0);if(i<0)throw new Error("array length must be positive");for(var o=new Array(i),s=0,a=e;s<i;s++,a++)o[s]=a;return o}},{}],14:[function(e,t,n){"use strict";var r=e("./raw"),i=[],o=[],s=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function a(e){var t;(t=i.length?i.pop():new u).task=e,r(t)}function u(){this.task=null}t.exports=a,u.prototype.call=function(){try{this.task.call()}catch(e){a.onerror?a.onerror(e):(o.push(e),s())}finally{this.task=null,i[i.length]=this}}},{"./raw":15}],15:[function(e,t,n){(function(e){(function(){"use strict";function n(e){i.length||(r(),!0),i[i.length]=e}t.exports=n;var r,i=[],o=0,s=1024;function a(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>s){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var u,c,l,f=void 0!==e?e:self,h=f.MutationObserver||f.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof h?(u=1,c=new h(a),l=document.createTextNode(""),c.observe(l,{characterData:!0}),r=function(){u=-u,l.data=u}):r=p(a),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){(function(n){(function(){"use strict";var r=e("object-assign");
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=e("util/"),a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=t.exports=v,p=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(s.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function _(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(c||!s.isFunction(e))return s.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,r,i){throw new h.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function v(e,t){e||m(e,!0,t,"==",h.ok)}function g(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=b(e),o=b(t);if(i&&!o||!i&&o)return!1;if(i)return g(e=u.call(e),t=u.call(t),n);var a,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(!g(e[a=l[c]],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&m(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!e&&i&&!n;if((!e&&s.isError(i)&&o&&w(i,n)||a)&&m(i,n,"Got unwanted exception"+r),e&&i&&n&&!w(i,n)||!e&&i)throw i}h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return _(y(e.actual),128)+" "+e.operator+" "+_(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=d(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},s.inherits(h.AssertionError,Error),h.fail=m,h.ok=v,h.equal=function(e,t,n){e!=t&&m(e,t,n,"==",h.equal)},h.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",h.notEqual)},h.deepEqual=function(e,t,n){g(e,t,!1)||m(e,t,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,n){g(e,t,!0)||m(e,t,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,n){g(e,t,!1)&&m(e,t,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,n,r){g(t,n,!0)&&m(t,n,r,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",h.strictEqual)},h.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",h.notStrictEqual)},h.throws=function(e,t,n){x(!0,e,t,n)},h.doesNotThrow=function(e,t,n){x(!1,e,t,n)},h.ifError=function(e){if(e)throw e},h.strict=r((function e(t,n){t||m(t,!0,n,"==",e)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var E=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object-assign":237,"util/":250}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=new Array(2*e.length-1);t[0]=e[0];for(var n=0,r=arguments.length<=1?0:arguments.length-1;n<r;n++){var o=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];t[2*n+1]=o&&Object.prototype.hasOwnProperty.call(o,"__html")?o.__html:(0,i.default)(o),t[2*n+2]=e[n+1]}return t.join("")};var r,i=(r=e("lodash/escape"))&&r.__esModule?r:{default:r};t.exports=n.default,t.exports.default=n.default},{"lodash/escape":193}],18:[function(e,t,n){"use strict";n.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(l(e,a,a+s>u?u:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],19:[function(e,t,n){!function(e){"use strict";var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function d(e){var t=0|e;return e>0||e===t?t:t-1}function _(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=c-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function y(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,u=e.e,c=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=u==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return u==c?0:u>c^n?1:-1}function m(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return d(e.e/c)==t&&e.c[t]%2!=0}function g(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function b(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,w,x,E,A,S,O,j,T,I,k=H.prototype={constructor:H,toString:null,valueOf:null},D=new H(1),M=20,L=4,P=-7,C=21,R=-1e7,q=1e7,B=!1,N=1,F=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},U="0123456789abcdefghijklmnopqrstuvwxyz";function H(e,t){var n,i,s,u,f,h,p,d,_=this;if(!(_ instanceof H))return new H(e,t);if(null==t){if(e&&!0===e._isBigNumber)return _.s=e.s,void(!e.c||e.e>q?_.c=_.e=null:e.e<R?_.c=[_.e=0]:(_.e=e.e,_.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(_.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,f=e;f>=10;f/=10,u++);return void(u>q?_.c=_.e=null:(_.e=u,_.c=[e]))}d=String(e)}else{if(!r.test(d=String(e)))return x(_,d,h);_.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(u=d.indexOf("."))>-1&&(d=d.replace(".","")),(f=d.search(/e/i))>0?(u<0&&(u=f),u+=+d.slice(f+1),d=d.substring(0,f)):u<0&&(u=d.length)}else{if(m(t,2,U.length,"Base"),10==t)return W(_=new H(e),M+_.e+1,L);if(d=String(e),h="number"==typeof e){if(0*e!=0)return x(_,d,h,t);if(_.s=1/e<0?(d=d.slice(1),-1):1,H.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else _.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=U.slice(0,t),u=f=0,p=d.length;f<p;f++)if(n.indexOf(i=d.charAt(f))<0){if("."==i){if(f>u){u=p;continue}}else if(!s&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){s=!0,f=-1,u=0;continue}return x(_,String(e),h,t)}h=!1,(u=(d=w(d,t,10,_.s)).indexOf("."))>-1?d=d.replace(".",""):u=d.length}for(f=0;48===d.charCodeAt(f);f++);for(p=d.length;48===d.charCodeAt(--p););if(d=d.slice(f,++p)){if(p-=f,h&&H.DEBUG&&p>15&&(e>l||e!==o(e)))throw Error(a+_.s*e);if((u=u-f-1)>q)_.c=_.e=null;else if(u<R)_.c=[_.e=0];else{if(_.e=u,_.c=[],f=(u+1)%c,u<0&&(f+=c),f<p){for(f&&_.c.push(+d.slice(0,f)),p-=c;f<p;)_.c.push(+d.slice(f,f+=c));f=c-(d=d.slice(f)).length}else f-=p;for(;f--;d+="0");_.c.push(+d)}}else _.c=[_.e=0]}function $(e,t,n,r){var i,o,s,a,u;if(null==n?n=L:m(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)u=_(e.c),u=1==r||2==r&&(s<=P||s>=C)?g(u,s):b(u,s,"0");else if(o=(e=W(new H(e),t,n)).e,a=(u=_(e.c)).length,1==r||2==r&&(t<=o||o<=P)){for(;a<t;u+="0",a++);u=g(u,o)}else if(t-=s,u=b(u,o,"0"),o+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=o-a)>0)for(o+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function G(e,t){for(var n,r=1,i=new H(e[0]);r<e.length;r++){if(!(n=new H(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function K(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*c-1)>q?e.c=e.e=null:n<R?e.c=[e.e=0]:(e.e=n,e.c=t),e}function W(e,t,n,r){var s,a,l,h,p,d,_,y=e.c,m=f;if(y){e:{for(s=1,h=y[0];h>=10;h/=10,s++);if((a=t-s)<0)a+=c,l=t,_=(p=y[d=0])/m[s-l-1]%10|0;else if((d=i((a+1)/c))>=y.length){if(!r)break e;for(;y.length<=d;y.push(0));p=_=0,s=1,l=(a%=c)-c+1}else{for(p=h=y[d],s=1;h>=10;h/=10,s++);_=(l=(a%=c)-c+s)<0?0:p/m[s-l-1]%10|0}if(r=r||t<0||null!=y[d+1]||(l<0?p:p%m[s-l-1]),r=n<4?(_||r)&&(0==n||n==(e.s<0?3:2)):_>5||5==_&&(4==n||r||6==n&&(a>0?l>0?p/m[s-l]:0:y[d-1])%10&1||n==(e.s<0?8:7)),t<1||!y[0])return y.length=0,r?(t-=e.e+1,y[0]=m[(c-t%c)%c],e.e=-t||0):y[0]=e.e=0,e;if(0==a?(y.length=d,h=1,d--):(y.length=d+1,h=m[c-a],y[d]=l>0?o(p/m[s-l]%m[l])*h:0),r)for(;;){if(0==d){for(a=1,l=y[0];l>=10;l/=10,a++);for(l=y[0]+=h,h=1;l>=10;l/=10,h++);a!=h&&(e.e++,y[0]==u&&(y[0]=1));break}if(y[d]+=h,y[d]!=u)break;y[d--]=0,h=1}for(a=y.length;0===y[--a];y.pop());}e.e>q?e.c=e.e=null:e.e<R&&(e.c=[e.e=0])}return e}function z(e){var t,n=e.e;return null===n?e.toString():(t=_(e.c),t=n<=P||n>=C?g(t,n):b(t,n,"0"),e.s<0?"-"+t:t)}return H.clone=e,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(m(n=e[t],0,p,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(m(n=e[t],0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(m(n[0],-p,0,t),m(n[1],0,p,t),P=n[0],C=n[1]):(m(n,-p,p,t),P=-(C=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)m(n[0],-p,-1,t),m(n[1],1,p,t),R=n[0],q=n[1];else{if(m(n,-p,p,t),!n)throw Error(s+t+" cannot be zero: "+n);R=-(q=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!n,Error(s+"crypto unavailable");B=n}else B=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(m(n=e[t],0,9,t),N=n),e.hasOwnProperty(t="POW_PRECISION")&&(m(n=e[t],0,p,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);V=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);U=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:L,EXPONENTIAL_AT:[P,C],RANGE:[R,q],CRYPTO:B,MODULO_MODE:N,POW_PRECISION:F,FORMAT:V,ALPHABET:U}},H.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!H.DEBUG)return!0;var t,n,r=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&i>=-p&&i<=p&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%c)<1&&(t+=c),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=u||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},H.maximum=H.max=function(){return G(arguments,k.lt)},H.minimum=H.min=function(){return G(arguments,k.gt)},H.random=(E=9007199254740992,A=Math.random()*E&2097151?function(){return o(Math.random()*E)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,u,l=0,h=[],d=new H(D);if(null==e?e=M:m(e,0,p),a=i(e/c),B)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(u=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(h.push(u%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw B=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(u=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(h.push(u%1e14),l+=7);l=a/7}if(!B)for(;l<a;)(u=A())<9e15&&(h[l++]=u%1e14);for(a=h[--l],e%=c,a&&e&&(u=f[c-e],h[l]=o(a/u)*u);0===h[l];h.pop(),l--);if(l<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=c);for(l=1,u=h[0];u>=10;u/=10,l++);l<c&&(r-=c-l)}return d.e=r,d.c=h,d}),H.sum=function(){for(var e=1,t=arguments,n=new H(t[0]);e<t.length;)n=n.plus(t[e++]);return n},w=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,s=[0],a=0,u=e.length;a<u;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var u,c,l,f,h,p,d,y,m=r.indexOf("."),v=M,g=L;for(m>=0&&(f=F,F=0,r=r.replace(".",""),p=(y=new H(i)).pow(r.length-m),F=f,y.c=t(b(_(p.c),p.e,"0"),10,o,e),y.e=y.c.length),l=f=(d=t(r,i,o,a?(u=U,e):(u=e,U))).length;0==d[--f];d.pop());if(!d[0])return u.charAt(0);if(m<0?--l:(p.c=d,p.e=l,p.s=s,d=(p=n(p,y,v,g,o)).c,h=p.r,l=p.e),m=d[c=l+v+1],f=o/2,h=h||c<0||null!=d[c+1],h=g<4?(null!=m||h)&&(0==g||g==(p.s<0?3:2)):m>f||m==f&&(4==g||h||6==g&&1&d[c-1]||g==(p.s<0?8:7)),c<1||!d[0])r=h?b(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(d.length=c,h)for(--o;++d[--c]>o;)d[c]=0,c||(++l,d=[1].concat(d));for(f=d.length;!d[--f];);for(m=0,r="";m<=f;r+=u.charAt(d[m++]));r=b(r,l,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,s,a=0,u=e.length,c=t%h,l=t/h|0;for(e=e.slice();u--;)a=((i=c*(o=e[u]%h)+(r=l*o+(s=e[u]/h|0)*c)%h*h+a)/n|0)+(r/h|0)+l*s,e[u]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,l){var f,h,p,_,y,m,v,g,b,w,x,E,A,S,O,j,T,I=r.s==i.s?1:-1,k=r.c,D=i.c;if(!(k&&k[0]&&D&&D[0]))return new H(r.s&&i.s&&(k?!D||k[0]!=D[0]:D)?k&&0==k[0]||!D?0*I:I/0:NaN);for(b=(g=new H(I)).c=[],I=s+(h=r.e-i.e)+1,l||(l=u,h=d(r.e/c)-d(i.e/c),I=I/c|0),p=0;D[p]==(k[p]||0);p++);if(D[p]>(k[p]||0)&&h--,I<0)b.push(1),_=!0;else{for(S=k.length,j=D.length,p=0,I+=2,(y=o(l/(D[0]+1)))>1&&(D=e(D,y,l),k=e(k,y,l),j=D.length,S=k.length),A=j,x=(w=k.slice(0,j)).length;x<j;w[x++]=0);T=D.slice(),T=[0].concat(T),O=D[0],D[1]>=l/2&&O++;do{if(y=0,(f=t(D,w,j,x))<0){if(E=w[0],j!=x&&(E=E*l+(w[1]||0)),(y=o(E/O))>1)for(y>=l&&(y=l-1),v=(m=e(D,y,l)).length,x=w.length;1==t(m,w,v,x);)y--,n(m,j<v?T:D,v,l),v=m.length,f=1;else 0==y&&(f=y=1),v=(m=D.slice()).length;if(v<x&&(m=[0].concat(m)),n(w,m,x,l),x=w.length,-1==f)for(;t(D,w,j,x)<1;)y++,n(w,j<x?T:D,x,l),x=w.length}else 0===f&&(y++,w=[0]);b[p++]=y,w[0]?w[x++]=k[A]||0:(w=[k[A]],x=1)}while((A++<S||null!=w[0])&&I--);_=null!=w[0],b[0]||b.splice(0,1)}if(l==u){for(p=1,I=b[0];I>=10;I/=10,p++);W(g,s+(g.e=p+h*c-1)+1,a,_)}else g.e=h,g.r=+_;return g}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,j=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,n,r){var i,o=n?t:t.replace(I,"");if(T.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(S,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(O,"$1").replace(j,"0.$1")),t!=o))return new H(o,i);if(H.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new H(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,t){return y(this,new H(e,t))},k.decimalPlaces=k.dp=function(e,t){var n,r,i,o=this;if(null!=e)return m(e,0,p),null==t?t=L:m(t,0,8),W(new H(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-d(this.e/c))*c,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},k.dividedBy=k.div=function(e,t){return n(this,new H(e,t),M,L)},k.dividedToIntegerBy=k.idiv=function(e,t){return n(this,new H(e,t),0,1)},k.exponentiatedBy=k.pow=function(e,t){var n,r,a,u,l,f,h,p,d=this;if((e=new H(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+z(e));if(null!=t&&(t=new H(t)),l=e.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!e.c||!e.c[0])return p=new H(Math.pow(+z(d),l?2-v(e):+z(e))),t?p.mod(t):p;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new H(NaN);(r=!f&&d.isInteger()&&t.isInteger())&&(d=d.mod(t))}else{if(e.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||l&&d.c[1]>=24e7:d.c[0]<8e13||l&&d.c[0]<=9999975e7)))return u=d.s<0&&v(e)?-0:0,d.e>-1&&(u=1/u),new H(f?1/u:u);F&&(u=i(F/c+2))}for(l?(n=new H(.5),f&&(e.s=1),h=v(e)):h=(a=Math.abs(+z(e)))%2,p=new H(D);;){if(h){if(!(p=p.times(d)).c)break;u?p.c.length>u&&(p.c.length=u):r&&(p=p.mod(t))}if(a){if(0===(a=o(a/2)))break;h=a%2}else if(W(e=e.times(n),e.e+1,1),e.e>14)h=v(e);else{if(0===(a=+z(e)))break;h=a%2}d=d.times(d),u?d.c&&d.c.length>u&&(d.c.length=u):r&&(d=d.mod(t))}return r?p:(f&&(p=D.div(p)),t?p.mod(t):u?W(p,F,L,undefined):p)},k.integerValue=function(e){var t=new H(this);return null==e?e=L:m(e,0,8),W(t,t.e+1,e)},k.isEqualTo=k.eq=function(e,t){return 0===y(this,new H(e,t))},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(e,t){return y(this,new H(e,t))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,t){return 1===(t=y(this,new H(e,t)))||0===t},k.isInteger=function(){return!!this.c&&d(this.e/c)>this.c.length-2},k.isLessThan=k.lt=function(e,t){return y(this,new H(e,t))<0},k.isLessThanOrEqualTo=k.lte=function(e,t){return-1===(t=y(this,new H(e,t)))||0===t},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.minus=function(e,t){var n,r,i,o,s=this,a=s.s;if(t=(e=new H(e,t)).s,!a||!t)return new H(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/c,f=e.e/c,h=s.c,p=e.c;if(!l||!f){if(!h||!p)return h?(e.s=-t,e):new H(p?s:NaN);if(!h[0]||!p[0])return p[0]?(e.s=-t,e):new H(h[0]?s:3==L?-0:0)}if(l=d(l),f=d(f),h=h.slice(),a=l-f){for((o=a<0)?(a=-a,i=h):(f=l,i=p),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=h.length)<(t=p.length))?a:t,a=t=0;t<r;t++)if(h[t]!=p[t]){o=h[t]<p[t];break}if(o&&(i=h,h=p,p=i,e.s=-e.s),(t=(r=p.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=u-1;r>a;){if(h[--r]<p[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=u}h[r]-=p[r]}for(;0==h[0];h.splice(0,1),--f);return h[0]?K(e,h,f):(e.s=3==L?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,t){var r,i,o=this;return e=new H(e,t),!o.c||!e.s||e.c&&!e.c[0]?new H(NaN):!e.c||o.c&&!o.c[0]?new H(o):(9==N?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,N),(e=o.minus(r.times(e))).c[0]||1!=N||(e.s=o.s),e)},k.multipliedBy=k.times=function(e,t){var n,r,i,o,s,a,l,f,p,_,y,m,v,g,b,w=this,x=w.c,E=(e=new H(e,t)).c;if(!(x&&E&&x[0]&&E[0]))return!w.s||!e.s||x&&!x[0]&&!E||E&&!E[0]&&!x?e.c=e.e=e.s=null:(e.s*=w.s,x&&E?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=d(w.e/c)+d(e.e/c),e.s*=w.s,(l=x.length)<(_=E.length)&&(v=x,x=E,E=v,i=l,l=_,_=i),i=l+_,v=[];i--;v.push(0));for(g=u,b=h,i=_;--i>=0;){for(n=0,y=E[i]%b,m=E[i]/b|0,o=i+(s=l);o>i;)n=((f=y*(f=x[--s]%b)+(a=m*f+(p=x[s]/b|0)*y)%b*b+v[o]+n)/g|0)+(a/b|0)+m*p,v[o--]=f%g;v[o]=n}return n?++r:v.splice(0,1),K(e,v,r)},k.negated=function(){var e=new H(this);return e.s=-e.s||null,e},k.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new H(e,t)).s,!i||!t)return new H(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/c,s=e.e/c,a=r.c,l=e.c;if(!o||!s){if(!a||!l)return new H(i/0);if(!a[0]||!l[0])return l[0]?e:new H(a[0]?r:0*i)}if(o=d(o),s=d(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=l):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+l[t]+i)/u|0,a[t]=u===a[t]?0:a[t]%u;return i&&(a=[i].concat(a),++s),K(e,a,s)},k.precision=k.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return m(e,1,p),null==t?t=L:m(t,0,8),W(new H(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*c+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},k.shiftedBy=function(e){return m(e,-l,l),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,t,r,i,o,s=this,a=s.c,u=s.s,c=s.e,l=M+4,f=new H("0.5");if(1!==u||!a||!a[0])return new H(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+z(s)))||u==1/0?(((t=_(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=d((c+1)/2)-(c<0||c%2),r=new H(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new H(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(o=r,r=f.times(o.plus(n(s,o,l,1))),_(o.c).slice(0,u)===(t=_(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(r,r.e+M+2,1),e=!r.times(r).eq(s));break}if(!i&&(W(o,o.e+M+2,0),o.times(o).eq(s))){r=o;break}l+=4,u+=4,i=1}return W(r,r.e+M+1,L,e)},k.toExponential=function(e,t){return null!=e&&(m(e,0,p),e++),$(this,e,t,1)},k.toFixed=function(e,t){return null!=e&&(m(e,0,p),e=e+this.e+1),$(this,e,t)},k.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=V;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,a=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",f=a[0],h=a[1],p=i.s<0,d=p?f.slice(1):f,_=d.length;if(c&&(o=u,u=c,c=o,_-=o),u>0&&_>0){for(o=_%u||u,f=d.substr(0,o);o<_;o+=u)f+=l+d.substr(o,u);c>0&&(f+=l+d.slice(o)),p&&(f="-"+f)}r=h?f+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):f}return(n.prefix||"")+r+(n.suffix||"")},k.toFraction=function(e){var t,r,i,o,a,u,l,h,p,d,y,m,v=this,g=v.c;if(null!=e&&(!(l=new H(e)).isInteger()&&(l.c||1!==l.s)||l.lt(D)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+z(l));if(!g)return new H(v);for(t=new H(D),p=r=new H(D),i=h=new H(D),m=_(g),a=t.e=m.length-v.e-1,t.c[0]=f[(u=a%c)<0?c+u:u],e=!e||l.comparedTo(t)>0?a>0?t:p:l,u=q,q=1/0,l=new H(m),h.c[0]=0;d=n(l,t,0,1),1!=(o=r.plus(d.times(i))).comparedTo(e);)r=i,i=o,p=h.plus(d.times(o=p)),h=o,t=l.minus(d.times(o=t)),l=o;return o=n(e.minus(r),i,0,1),h=h.plus(o.times(p)),r=r.plus(o.times(i)),h.s=p.s=v.s,y=n(p,i,a*=2,L).minus(v).abs().comparedTo(n(h,r,a,L).minus(v).abs())<1?[p,i]:[h,r],q=u,y},k.toNumber=function(){return+z(this)},k.toPrecision=function(e,t){return null!=e&&m(e,1,p),$(this,e,t,2)},k.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=P||i>=C?g(_(n.c),i):b(_(n.c),i,"0"):10===e?t=b(_((n=W(new H(n),M+i+1,L)).c),n.e,"0"):(m(e,2,U.length,"Base"),t=w(b(_(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},k.valueOf=k.toJSON=function(){return z(this)},k._isBigNumber=!0,null!=t&&H.set(t),H}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)},{}],20:[function(e,t,n){(function(t){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var t=e("base64-js"),r=e("ieee754");n.Buffer=s,n.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=o(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return l(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n);return r.__proto__=s.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var i=function(e){if(s.isBuffer(e)){var t=0|f(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||V(e.length)?o(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|f(e))}function l(e){for(var t=e.length<0?0:0|f(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(i)return r?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),V(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(V(a))return s;e[n+s]=a}return s}function v(e,t,n,r){return N(q(t,e.length-n),e,n,r)}function g(e,t,n,r){return N(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return g(e,t,n,r)}function w(e,t,n,r){return N(B(t),e,n,r)}function x(e,t,n,r){return N(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}n.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return a(e,t,n)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(F(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(F(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(F(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return g(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=R(e[o]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,i,o){return t=+t,n>>>=0,o||M(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function P(e,t,n,i,o){return t=+t,n>>>=0,o||M(e,0,n,8),r.write(e,t,n,i,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,r),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var C=/[^+/0-9A-Za-z-_]/g;function R(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function V(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":18,buffer:20,ieee754:26}],21:[function(e,t,n){(function(r){(function(){"use strict";n.__esModule=!0,n.default=function(e,t){if(a)return a.call(e,t);var n=e;do{if((0,o.default)(n,t))return n;n=n.parentNode}while(n&&n!==r.document);return null};var i,o=(i=e("matches-selector-ng"))&&i.__esModule?i:{default:i};var s=r.Element&&r.Element.prototype,a=s&&s.closest;t.exports=n.default,t.exports.default=n.default}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"matches-selector-ng":236}],22:[function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,s,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function _(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=y(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return f(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return f(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_.call(e,t)},a.prototype.listenerCount=_,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.moduleId=void 0;n.moduleId="1f24 e53a"},{}],24:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.init=function(){var e=window.XMLHttpRequest;window.addEventListener("message",(function t(n){if(n.data&&"ext-corb-workaround_port"===n.data.type&&n.data.moduleId===s.moduleId&&!n.__ext_claimed){n.__ext_claimed=!0,window.removeEventListener("message",t);var r=n.data.port,a={};r.addEventListener("message",(function(t){var n=t.data.id;switch(t.data.type){case"NEW_XHR":var s=a[n]=new e;s.addEventListener("readystatechange",(function(){if(4===s.readyState){var e;delete a[n];try{e=s.responseText}catch(e){}r.postMessage({type:"COMPLETE",id:n,headers:s.getAllResponseHeaders(),readyState:s.readyState,status:s.status,statusText:s.statusText,responseURL:s.responseURL,response:s.response,responseText:e},(0,o.default)([s.response]))}}));break;case"SET":var u=t.data,c=u.prop,l=u.value;a[n][c]=l;break;case"CALL":var f,h=t.data,p=h.method,d=h.args;if("abort"===p&&!a[n])break;(f=a[n])[p].apply(f,(0,i.default)(d));break;default:console.error("ext-corb-workaround: Unknown event in page world:",t)}})),r.addEventListener("messageerror",(function(e){console.error("ext-corb-workaround: Unknown error in page world:",e)})),r.start()}}))};var i=r(e("@babel/runtime/helpers/toConsumableArray")),o=r(e("./transferrables")),s=e("./moduleId")},{"./moduleId":23,"./transferrables":25,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/helpers/toConsumableArray":8}],25:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e.map((function(e){if(e&&"object"===(0,i.default)(e)&&e.__proto__){if("ArrayBuffer"===e.__proto__.constructor.name)return e;if(e.__proto__.__proto__&&"TypedArray"===e.__proto__.__proto__.constructor.name)return e.buffer}})).filter(Boolean)};var i=r(e("@babel/runtime/helpers/typeof"))},{"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/helpers/typeof":11}],26:[function(e,t,n){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*_}},{}],27:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=null;function t(){n.stopped=!0,e&&(e.emit(null),e.end())}var n=r.stream((function(r){e=r,n.stopped&&t()})).toProperty();return n.stopped=!1,n.destroy=t,n};var r=e("kefir");t.exports=n.default,t.exports.default=n.default},{kefir:29}],29:[function(e,t,n){(function(e){(function(){
/*! Kefir.js v3.8.8
 *  https://github.com/kefirjs/kefir
 */
!function(e,r){"object"==typeof n&&void 0!==t?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(e.Kefir=e.Kefir||{})}(this,(function(n){"use strict";function r(e){var t=arguments.length,n=void 0,r=void 0;for(n=1;n<t;n++)for(r in arguments[n])e[r]=arguments[n][r];return e}function i(e,t){var n,i,o=arguments.length,s=void 0;for(e.prototype=(n=t.prototype,(i=function(){}).prototype=n,new i),e.prototype.constructor=e,s=2;s<o;s++)r(e.prototype,arguments[s]);return e}var o=["<nothing>"],s="end",a="value",u="error",c="any";function l(e,t){var n=void 0,r=void 0,i=void 0,o=void 0;if(0===e.length)return t;if(0===t.length)return e;for(o=0,n=new Array(e.length+t.length),r=e.length,i=0;i<r;i++,o++)n[o]=e[i];for(r=t.length,i=0;i<r;i++,o++)n[o]=t[i];return n}function f(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)if(e[r]===t)return r;return-1}function h(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)if(t(e[r]))return r;return-1}function p(e){var t=e.length,n=new Array(t),r=void 0;for(r=0;r<t;r++)n[r]=e[r];return n}function d(e,t){var n=e.length,r=void 0,i=void 0,o=void 0;if(t>=0&&t<n){if(1===n)return[];for(r=new Array(n-1),i=0,o=0;i<n;i++)i!==t&&(r[o]=e[i],o++);return r}return e}function _(e,t){var n=e.length,r=new Array(n),i=void 0;for(i=0;i<n;i++)r[i]=t(e[i]);return r}function y(e,t,n){e===c?t(n):e===n.type&&(e===a||e===u?t(n.value):t())}function m(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function v(){this._dispatcher=new m,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function g(){v.call(this)}function b(){v.call(this),this._currentEvent=null}r(m.prototype,{add:function(e,t){return this._items=l(this._items,[{type:e,fn:t}]),this._items.length},remove:function(e,t){var n=h(this._items,(function(n){return n.type===e&&n.fn===t}));return 0!==this._inLoop&&-1!==n&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[n])),this._items=d(this._items,n),this._items.length},addSpy:function(e){return this._spies=l(this._spies,[e]),this._spies.length},removeSpy:function(e){return this._spies=d(this._spies,this._spies.indexOf(e)),this._spies.length},dispatch:function(e){this._inLoop++;for(var t=0,n=this._spies;null!==this._spies&&t<n.length;t++)n[t](e);for(var r=0,i=this._items;r<i.length&&null!==this._items;r++)null!==this._removedItems&&(o=this._removedItems,s=i[r],-1!==f(o,s))||y(i[r].type,i[r].fn,e);var o,s;this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),r(v.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(e){this._active!==e&&(this._active=e,e?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(e,t){switch(e){case a:return this._emitValue(t);case u:return this._emitError(t);case s:return this._emitEnd()}},_emitValue:function(e){this._alive&&this._dispatcher.dispatch({type:a,value:e})},_emitError:function(e){this._alive&&this._dispatcher.dispatch({type:u,value:e})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:s}),this._clear())},_on:function(e,t){return this._alive?(this._dispatcher.add(e,t),this._setActive(!0)):y(e,t,{type:s}),this},_off:function(e,t){this._alive&&(0===this._dispatcher.remove(e,t)&&this._setActive(!1));return this},onValue:function(e){return this._on(a,e)},onError:function(e){return this._on(u,e)},onEnd:function(e){return this._on(s,e)},onAny:function(e){return this._on(c,e)},offValue:function(e){return this._off(a,e)},offError:function(e){return this._off(u,e)},offEnd:function(e){return this._off(s,e)},offAny:function(e){return this._off(c,e)},observe:function(e,t,n){var r=this,i=!1,o=e&&"function"!=typeof e?e:{value:e,error:t,end:n},c=function(e){e.type===s&&(i=!0),e.type===a&&o.value?o.value(e.value):e.type===u&&o.error?o.error(e.value):e.type===s&&o.end&&o.end(e.value)};return this.onAny(c),{unsubscribe:function(){i||(r.offAny(c),i=!0)},get closed(){return i}}},_ofSameType:function(e,t){return e.prototype.getType()===this.getType()?e:t},setName:function(e,t){return this._name=t?e._name+"."+t:e,this},log:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),t=void 0,n=function(n){var r="<"+n.type+(t?":current":"")+">";n.type===s?console.log(e,r):console.log(e,r,n.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:e,handler:n})),t=!0,this.onAny(n),t=!1,this},offLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._logHandlers){var t=h(this._logHandlers,(function(t){return t.name===e}));-1!==t&&(this.offAny(this._logHandlers[t].handler),this._logHandlers.splice(t,1))}return this},spy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),t=function(t){var n="<"+t.type+">";t.type===s?console.log(e,n):console.log(e,n,t.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:e,handler:t}),this._dispatcher.addSpy(t)),this},offSpy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._spyHandlers){var t=h(this._spyHandlers,(function(t){return t.name===e}));-1!==t&&(this._dispatcher.removeSpy(this._spyHandlers[t].handler),this._spyHandlers.splice(t,1))}return this}}),v.prototype.toString=function(){return"["+this._name+"]"},i(g,v,{_name:"stream",getType:function(){return"stream"}}),i(b,v,{_name:"property",_emitValue:function(e){this._alive&&(this._currentEvent={type:a,value:e},this._activating||this._dispatcher.dispatch({type:a,value:e}))},_emitError:function(e){this._alive&&(this._currentEvent={type:u,value:e},this._activating||this._dispatcher.dispatch({type:u,value:e}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:s}),this._clear())},_on:function(e,t){return this._alive&&(this._dispatcher.add(e,t),this._setActive(!0)),null!==this._currentEvent&&y(e,t,this._currentEvent),this._alive||y(e,t,{type:s}),this},getType:function(){return"property"}});var w=new g;function x(){return w}function E(e){function t(e,t){var n=this;g.call(this),this._wait=e,this._intervalId=null,this._$onTick=function(){return n._onTick()},this._init(t)}return i(t,g,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){g.prototype._clear.call(this),this._$onTick=null,this._free()}},e),t}w._emitEnd(),w._name="never";var A=E({_name:"later",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});function S(e,t){return new A(e,{x:t})}var O=E({_name:"interval",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});function j(e,t){return new O(e,{x:t})}var T=E({_name:"sequentially",_init:function(e){var t=e.xs;this._xs=p(t)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});function I(e,t){return 0===t.length?x():new T(e,{xs:t})}var k=E({_name:"fromPoll",_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_onTick:function(){var e=this._fn;this._emitValue(e())}});function D(e,t){return new k(e,{fn:t})}function M(e){function t(t){return e._emitValue(t),e._active}function n(t){return e._emit(t.type,t.value),e._active}return{value:t,error:function(t){return e._emitError(t),e._active},end:function(){return e._emitEnd(),e._active},event:n,emit:t,emitEvent:n}}var L=E({_name:"withInterval",_init:function(e){var t=e.fn;this._fn=t,this._emitter=M(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){(0,this._fn)(this._emitter)}});function P(e,t){return new L(e,{fn:t})}function C(e){g.call(this),this._fn=e,this._unsubscribe=null}function R(e){return new C(e)}function q(e){var t=!1;return R((function(n){t||(e((function(e){n.emit(e),n.end()})),t=!0)})).setName("fromCallback")}function B(e){var t=!1;return R((function(n){t||(e((function(e,t){e?n.error(e):n.emit(t),n.end()})),t=!0)})).setName("fromNodeCallback")}function N(e,t){switch(t){case 0:return function(){return e()};case 1:return function(t){return e(t[0])};case 2:return function(t){return e(t[0],t[1])};case 3:return function(t){return e(t[0],t[1],t[2])};case 4:return function(t){return e(t[0],t[1],t[2],t[3])};default:return function(t){return e.apply(null,t)}}}i(C,g,{_name:"stream",_onActivation:function(){var e=(0,this._fn)(M(this));this._unsubscribe="function"==typeof e?e:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){g.prototype._clear.call(this),this._fn=null}});var F=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];function V(e,t,n){for(var r=void 0,i=void 0,o=0;o<F.length;o++)if("function"==typeof e[F[o][0]]&&"function"==typeof e[F[o][1]]){r=F[o][0],i=F[o][1];break}if(void 0===r)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return function(e,t,n){return R((function(r){var i=n?function(){r.emit(function(e,t,n){var r=n?n.length:0;if(null!=t)return 0===r?e.call(t):e.apply(t,n);switch(r){case 0:return e();case 1:return e(n[0]);case 2:return e(n[0],n[1]);case 3:return e(n[0],n[1],n[2]);case 4:return e(n[0],n[1],n[2],n[3]);default:return e.apply(null,n)}}(n,this,arguments))}:function(e){r.emit(e)};return e(i),function(){return t(i)}})).setName("fromSubUnsub")}((function(n){return e[r](t,n)}),(function(n){return e[i](t,n)}),n).setName("fromEvents")}function U(e){this._currentEvent={type:"value",value:e,current:!0}}function H(e){return new U(e)}function $(e){this._currentEvent={type:"error",value:e,current:!0}}function G(e){return new $(e)}function K(e,t){return function(n,r){var i=this;e.call(this),this._source=n,this._name=n._name+"."+t,this._init(r),this._$handleAny=function(e){return i._handleAny(e)}}}function W(e){return{_init:function(){},_free:function(){},_handleValue:function(e){this._emitValue(e)},_handleError:function(e){this._emitError(e)},_handleEnd:function(){this._emitEnd()},_handleAny:function(e){switch(e.type){case a:return this._handleValue(e.value);case u:return this._handleError(e.value);case s:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){e.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function z(e,t){var n=K(g,e);return i(n,g,W(g),t),n}function J(e,t){var n=K(b,e);return i(n,b,W(b),t),n}i(U,b,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),i($,b,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var X=J("toProperty",{_init:function(e){var t=e.fn;this._getInitialCurrent=t},_onActivation:function(){if(null!==this._getInitialCurrent){var e=this._getInitialCurrent;this._emitValue(e())}this._source.onAny(this._$handleAny)}});function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t&&"function"!=typeof t)throw new Error("You should call toProperty() with a function or no arguments.");return new X(e,{fn:t})}var Y=z("changes",{_handleValue:function(e){this._activating||this._emitValue(e)},_handleError:function(e){this._activating||this._emitError(e)}});function Z(e){var t=!1,n=R((function(n){if(!t){var r=e.then((function(e){n.emit(e),n.end()}),(function(e){n.error(e),n.end()}));r&&"function"==typeof r.done&&r.done(),t=!0}}));return Q(n,null).setName("fromPromise")}function ee(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}var te=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0!==t?t:Function("return this")()),ne=te.default?te.default:te;function re(e){var t=e[ne]?e[ne]():e;return R((function(e){var n=t.subscribe({error:function(t){e.error(t),e.end()},next:function(t){e.emit(t)},complete:function(){e.end()}});return n.unsubscribe?function(){n.unsubscribe()}:n})).setName("fromESObservable")}function ie(e){this._observable=e.takeErrors(1)}function oe(){return new ie(this)}function se(e,t,n){for(var r in e)e.hasOwnProperty(r)&&(t.push(r),n.push(e[r]))}function ae(e,t,n){var r=this;g.call(this),this._activeCount=e.length,this._sources=l(e,t),this._combinator=n,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),function(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)e[r]=t}(this._latestValues,o),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var i=function(e){r._$handlers.push((function(t){return r._handleAny(e,t)}))},s=0;s<this._sources.length;s++)i(s)}function ue(e,t,n){return"function"==typeof t&&(n=t,t=void 0),Array.isArray(e)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");return n=n?N(n,e.length+t.length):function(e){return e},0===e.length?x():new ae(e,t,n)}(e,t,n):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if("object"!=typeof t||Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");var r=[],i=[],o=[];return se(e,r,i),se(t,r,o),0===i.length?x():new ae(i,o,(function(e){for(var t={},i=e.length-1;0<=i;i--)t[r[i]]=e[i];return n?n(t):t}))}(e,t,n)}r(ie.prototype,{subscribe:function(e,t,n){var r=this,i="function"==typeof e?{next:e,error:t,complete:n}:e,o=function(e){e.type===s&&(c=!0),e.type===a&&i.next?i.next(e.value):e.type===u&&i.error?i.error(e.value):e.type===s&&i.complete&&i.complete(e.value)};this._observable.onAny(o);var c=!1;return{unsubscribe:function(){c=!0,r._observable.offAny(o)},get closed(){return c}}}}),ie.prototype[ne]=function(){return this},i(ae,g,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var e=this._activeCount;e<this._sources.length;e++)this._sources[e].onAny(this._$handlers[e]);for(var t=0;t<this._activeCount;t++)this._sources[t].onAny(this._$handlers[t]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var e=this._sources.length,t=void 0;for(t=0;t<e;t++)this._sources[t].offAny(this._$handlers[t])},_emitIfFull:function(){for(var e=!0,t=!1,n=this._latestValues.length,r=new Array(n),i=new Array(n),s=0;s<n;s++)r[s]=this._latestValues[s],i[s]=this._latestErrors[s],r[s]===o&&(e=!1),void 0!==i[s]&&(t=!0);if(e){var a=this._combinator;this._emitValue(a(r))}t&&this._emitError(function(e){for(var t=void 0,n=0;n<e.length;n++)void 0!==e[n]&&(void 0===t||t.index<e[n].index)&&(t=e[n]);return t.error}(i))},_handleAny:function(e,t){t.type===a||t.type===u?(t.type===a&&(this._latestValues[e]=t.value,this._latestErrors[e]=void 0),t.type===u&&(this._latestValues[e]=o,this._latestErrors[e]={index:this._latestErrorIndex++,error:t.value}),e<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):e<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){g.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var ce={empty:function(){return x()},concat:function(e,t){return e.merge(t)},of:function(e){return H(e)},map:function(e,t){return t.map(e)},bimap:function(e,t,n){return n.mapErrors(e).map(t)},ap:function(e,t){return ue([e,t],(function(e,t){return e(t)}))},chain:function(e,t){return t.flatMap(e)}},le=Object.freeze({Observable:ce}),fe={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;this._emitValue(t(e))}},he=z("map",fe),pe=J("map",fe),de=function(e){return e};function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de;return new(e._ofSameType(he,pe))(e,{fn:t})}var ye={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){(0,this._fn)(e)&&this._emitValue(e)}},me=z("filter",ye),ve=J("filter",ye),ge=function(e){return e};var be={_init:function(e){var t=e.n;this._n=t,t<=0&&this._emitEnd()},_handleValue:function(e){0!==this._n&&(this._n--,this._emitValue(e),0===this._n&&this._emitEnd())}},we=z("take",be),xe=J("take",be);var Ee={_init:function(e){var t=e.n;this._n=t,t<=0&&this._emitEnd()},_handleError:function(e){0!==this._n&&(this._n--,this._emitError(e),0===this._n&&this._emitEnd())}},Ae=z("takeErrors",Ee),Se=J("takeErrors",Ee);var Oe={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){(0,this._fn)(e)?this._emitValue(e):this._emitEnd()}},je=z("takeWhile",Oe),Te=J("takeWhile",Oe),Ie=function(e){return e};var ke={_init:function(){this._lastValue=o},_free:function(){this._lastValue=null},_handleValue:function(e){this._lastValue=e},_handleEnd:function(){this._lastValue!==o&&this._emitValue(this._lastValue),this._emitEnd()}},De=z("last",ke),Me=J("last",ke);var Le={_init:function(e){var t=e.n;this._n=Math.max(0,t)},_handleValue:function(e){0===this._n?this._emitValue(e):this._n--}},Pe=z("skip",Le),Ce=J("skip",Le);var Re={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;null===this._fn||t(e)||(this._fn=null),null===this._fn&&this._emitValue(e)}},qe=z("skipWhile",Re),Be=J("skipWhile",Re),Ne=function(e){return e};var Fe={_init:function(e){var t=e.fn;this._fn=t,this._prev=o},_free:function(){this._fn=null,this._prev=null},_handleValue:function(e){var t=this._fn;this._prev!==o&&t(this._prev,e)||(this._prev=e,this._emitValue(e))}},Ve=z("skipDuplicates",Fe),Ue=J("skipDuplicates",Fe),He=function(e,t){return e===t};function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He;return new(e._ofSameType(Ve,Ue))(e,{fn:t})}var Ge={_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._prev=n},_free:function(){this._prev=null,this._fn=null},_handleValue:function(e){if(this._prev!==o){var t=this._fn;this._emitValue(t(this._prev,e))}this._prev=e}},Ke=z("diff",Ge),We=J("diff",Ge);function ze(e,t){return[e,t]}var Je=J("scan",{_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._seed=n,n!==o&&this._emitValue(n)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(e){var t=this._fn;null===this._currentEvent||this._currentEvent.type===u?this._emitValue(this._seed===o?e:t(this._seed,e)):this._emitValue(t(this._currentEvent.value,e))}});var Xe=z("flatten",{_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){for(var t=(0,this._fn)(e),n=0;n<t.length;n++)this._emitValue(t[n])}}),Qe=function(e){return e};var Ye={},Ze={_init:function(e){var t=this,n=e.wait;this._wait=Math.max(0,n),this._buff=[],this._$shiftBuff=function(){var e=t._buff.shift();e===Ye?t._emitEnd():t._emitValue(e)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._buff.push(e),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(Ye),setTimeout(this._$shiftBuff,this._wait))}},et=z("delay",Ze),tt=J("delay",Ze);var nt=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},rt={_init:function(e){var t=this,n=e.wait,r=e.leading,i=e.trailing;this._wait=Math.max(0,n),this._leading=r,this._trailing=i,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return t._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(e){if(this._activating)this._emitValue(e);else{var t=nt();0!==this._lastCallTime||this._leading||(this._lastCallTime=t);var n=this._wait-(t-this._lastCallTime);n<=0?(this._cancelTrailing(),this._lastCallTime=t,this._emitValue(e)):this._trailing&&(this._cancelTrailing(),this._trailingValue=e,this._timeoutId=setTimeout(this._$trailingCall,n))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?nt():0,this._endLater&&this._emitEnd()}},it=z("throttle",rt),ot=J("throttle",rt);var st={_init:function(e){var t=this,n=e.wait,r=e.immediate;this._wait=Math.max(0,n),this._immediate=r,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return t._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._lastAttempt=nt(),this._immediate&&!this._timeoutId&&this._emitValue(e),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=e))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var e=nt()-this._lastAttempt;if(e<this._wait&&e>=0)this._timeoutId=setTimeout(this._$later,this._wait-e);else{if(this._timeoutId=null,!this._immediate){var t=this._laterValue;this._laterValue=null,this._emitValue(t)}this._endLater&&this._emitEnd()}}},at=z("debounce",st),ut=J("debounce",st);var ct={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;this._emitError(t(e))}},lt=z("mapErrors",ct),ft=J("mapErrors",ct),ht=function(e){return e};var pt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){(0,this._fn)(e)&&this._emitError(e)}},dt=z("filterErrors",pt),_t=J("filterErrors",pt),yt=function(e){return e};var mt={_handleValue:function(){}},vt=z("ignoreValues",mt),gt=J("ignoreValues",mt);var bt={_handleError:function(){}},wt=z("ignoreErrors",bt),xt=J("ignoreErrors",bt);var Et={_handleEnd:function(){}},At=z("ignoreEnd",Et),St=J("ignoreEnd",Et);var Ot={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleEnd:function(){var e=this._fn;this._emitValue(e()),this._emitEnd()}},jt=z("beforeEnd",Ot),Tt=J("beforeEnd",Ot);var It={_init:function(e){var t=e.min,n=e.max;this._max=n,this._min=t,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(e){this._buff=function(e,t,n){var r=Math.min(n,e.length+1),i=e.length-r+1,o=new Array(r),s=void 0;for(s=i;s<r;s++)o[s-i]=e[s];return o[r-1]=t,o}(this._buff,e,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},kt=z("slidingWindow",It),Dt=J("slidingWindow",It);var Mt={_init:function(e){var t=e.fn,n=e.flushOnEnd;this._fn=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),(0,this._fn)(e)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Lt=z("bufferWhile",Mt),Pt=J("bufferWhile",Mt),Ct=function(e){return e};var Rt={_init:function(e){var t=e.count,n=e.flushOnEnd;this._count=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},qt=z("bufferWithCount",Rt),Bt=J("bufferWithCount",Rt);var Nt={_init:function(e){var t=this,n=e.wait,r=e.count,i=e.flushOnEnd;this._wait=n,this._count=r,this._flushOnEnd=i,this._intervalId=null,this._$onTick=function(){return t._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},Ft=z("bufferWithTimeOrCount",Nt),Vt=J("bufferWithTimeOrCount",Nt);var Ut={_init:function(e){var t,n=e.transducer;this._xform=n((t=this,{"@@transducer/step":function(e,n){return t._emitValue(n),null},"@@transducer/result":function(){return t._emitEnd(),null}}))},_free:function(){this._xform=null},_handleValue:function(e){null!==this._xform["@@transducer/step"](null,e)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},Ht=z("transduce",Ut),$t=J("transduce",Ut);var Gt={_init:function(e){var t=e.fn;this._handler=t,this._emitter=M(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(e){this._handler(this._emitter,e)}},Kt=z("withHandler",Gt),Wt=J("withHandler",Gt);var zt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Jt(e,t){var n=this;g.call(this),this._buffers=_(e,(function(e){return zt(e)?p(e):[]})),this._sources=_(e,(function(e){return zt(e)?x():e})),this._combinator=t?N(t,this._sources.length):function(e){return e},this._aliveCount=0,this._$handlers=[];for(var r=function(e){n._$handlers.push((function(t){return n._handleAny(e,t)}))},i=0;i<this._sources.length;i++)r(i)}function Xt(e,t){return 0===e.length?x():new Jt(e,t)}i(Jt,g,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var e=this._sources.length;this._aliveCount=e;for(var t=0;t<e&&this._active;t++)this._sources[t].onAny(this._$handlers[t])},_onDeactivation:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].offAny(this._$handlers[e])},_emit:function(){for(var e=new Array(this._buffers.length),t=0;t<this._buffers.length;t++)e[t]=this._buffers[t].shift();var n=this._combinator;this._emitValue(n(e))},_isFull:function(){for(var e=0;e<this._buffers.length;e++)if(0===this._buffers[e].length)return!1;return!0},_handleAny:function(e,t){t.type===a&&(this._buffers[e].push(t.value),this._isFull()&&this._emit()),t.type===u&&this._emitError(t.value),t.type===s&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){g.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var Qt=function(e){return e};function Yt(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.queueLim,r=void 0===n?0:n,i=t.concurLim,o=void 0===i?-1:i,s=t.drop,a=void 0===s?"new":s;g.call(this),this._queueLim=r<0?-1:r,this._concurLim=o<0?-1:o,this._drop=a,this._queue=[],this._curSources=[],this._$handleSubAny=function(t){return e._handleSubAny(t)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function Zt(e){Yt.call(this),this._addAll(e),this._initialised=!0}function en(e){return 0===e.length?x():new Zt(e)}function tn(e){var t=this;g.call(this),this._generator=e,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(e){return t._handleAny(e)}}i(Yt,g,{_name:"abstractPool",_add:function(e,t){t=t||Qt,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(t(e)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(t(e)):"old"===this._drop&&(this._removeOldest(),this._add(e,t))},_addAll:function(e){var t=this;!function(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)t(e[r])}(e,(function(e){return t._add(e)}))},_remove:function(e){-1===this._removeCur(e)&&this._removeQueue(e)},_addToQueue:function(e){this._queue=l(this._queue,[e])},_addToCur:function(e){if(this._active){if(!e._alive)return e._currentEvent&&this._emit(e._currentEvent.type,e._currentEvent.value),void(this._active&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()));this._currentlyAdding=e,e.onAny(this._$handleSubAny),this._currentlyAdding=null,e._alive?(this._curSources=l(this._curSources,[e]),this._active&&this._subToEnd(e)):0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()}else this._curSources=l(this._curSources,[e])},_subToEnd:function(e){var t=this,n=function(){return t._removeCur(e)};this._$endHandlers.push({obs:e,handler:n}),e.onEnd(n)},_subscribe:function(e){e.onAny(this._$handleSubAny),this._active&&this._subToEnd(e)},_unsubscribe:function(e){e.offAny(this._$handleSubAny);var t=h(this._$endHandlers,(function(t){return t.obs===e}));-1!==t&&(e.offEnd(this._$endHandlers[t].handler),this._$endHandlers.splice(t,1))},_handleSubAny:function(e){e.type===a?this._emitValue(e.value):e.type===u&&this._emitError(e.value)},_removeQueue:function(e){var t=f(this._queue,e);return this._queue=d(this._queue,t),t},_removeCur:function(e){this._active&&this._unsubscribe(e);var t=f(this._curSources,e);return this._curSources=d(this._curSources,t),-1!==t&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),t},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=p(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var e=0,t=this._curSources;e<t.length&&this._active;e++)this._subscribe(t[e])},_onDeactivation:function(){for(var e=0,t=this._curSources;e<t.length;e++)this._unsubscribe(t[e]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){g.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),i(Zt,Yt,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),i(tn,g,{_name:"repeat",_handleAny:function(e){e.type===s?(this._source=null,this._getSource()):this._emit(e.type,e.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var e=this._generator;null===this._source&&this._alive&&this._active;)this._source=e(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){g.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var nn=function(e){return new tn(e)};function rn(e){return nn((function(t){return e.length>t&&e[t]})).setName("concat")}function on(){Yt.call(this)}function sn(e,t,n){var r=this;Yt.call(this,n),this._source=e,this._fn=t,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(e){return r._handleMain(e)}}function an(e,t){sn.call(this,e,t)}function un(e,t){return function(n,r,i){var s=this;e.call(this),this._primary=n,this._secondary=r,this._name=n._name+"."+t,this._lastSecondary=o,this._$handleSecondaryAny=function(e){return s._handleSecondaryAny(e)},this._$handlePrimaryAny=function(e){return s._handlePrimaryAny(e)},this._init(i)}}function cn(e){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(e){this._emitValue(e)},_handlePrimaryError:function(e){this._emitError(e)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(e){this._lastSecondary=e},_handleSecondaryError:function(e){this._emitError(e)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(e){switch(e.type){case a:return this._handlePrimaryValue(e.value);case u:return this._handlePrimaryError(e.value);case s:return this._handlePrimaryEnd(e.value)}},_handleSecondaryAny:function(e){switch(e.type){case a:return this._handleSecondaryValue(e.value);case u:return this._handleSecondaryError(e.value);case s:this._handleSecondaryEnd(e.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){e.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function ln(e,t){var n=un(g,e);return i(n,g,cn(g),t),n}function fn(e,t){var n=un(b,e);return i(n,b,cn(b),t),n}i(on,Yt,{_name:"pool",plug:function(e){return this._add(e),this},unplug:function(e){return this._remove(e),this}}),i(sn,Yt,{_onActivation:function(){Yt.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Yt.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(e){e.type===a&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1);e.type===u&&this._emitError(e.value),e.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Yt.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),i(an,sn,{_handleMain:function(e){e.type===u&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1);e.type===a&&this._emitValue(e.value),e.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var hn={_handlePrimaryValue:function(e){this._lastSecondary!==o&&this._lastSecondary&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary!==o&&this._lastSecondary||this._emitEnd()}},pn=ln("filterBy",hn),dn=fn("filterBy",hn);var _n=function(e,t){return t};var yn={_handlePrimaryValue:function(e){this._lastSecondary!==o&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary===o&&this._emitEnd()}},mn=ln("skipUntilBy",yn),vn=fn("skipUntilBy",yn);var gn={_handleSecondaryValue:function(){this._emitEnd()}},bn=ln("takeUntilBy",gn),wn=fn("takeUntilBy",gn);var xn={_init:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).flushOnEnd,t=void 0===e||e;this._buff=[],this._flushOnEnd=t},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(e){this._buff.push(e)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},En=ln("bufferBy",xn),An=fn("bufferBy",xn);var Sn={_init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flushOnEnd,n=void 0===t||t,r=e.flushOnChange,i=void 0!==r&&r;this._buff=[],this._flushOnEnd=n,this._flushOnChange=i},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(e){this._buff.push(e),this._lastSecondary===o||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==o&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(e){this._flushOnChange&&!e&&this._flush(),this._lastSecondary=e}},On=ln("bufferWhileBy",Sn),jn=fn("bufferWhileBy",Sn);var Tn=function(){return!1},In=function(){return!0};var kn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=(0,this._fn)(e);t.convert?this._emitError(t.error):this._emitValue(e)}},Dn=z("valuesToErrors",kn),Mn=J("valuesToErrors",kn),Ln=function(e){return{convert:!0,error:e}};var Pn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=(0,this._fn)(e);t.convert?this._emitValue(t.value):this._emitError(e)}},Cn=z("errorsToValues",Pn),Rn=J("errorsToValues",Pn),qn=function(e){return{convert:!0,value:e}};var Bn={_handleError:function(e){this._emitError(e),this._emitEnd()}},Nn=z("endOnError",Bn),Fn=J("endOnError",Bn);v.prototype.toProperty=function(e){return Q(this,e)},v.prototype.changes=function(){return new Y(this)},v.prototype.toPromise=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee(),n=null;return new t((function(t,r){e.onAny((function(e){e.type===s&&null!==n?((n.type===a?t:r)(n.value),n=null):n=e}))}))}(this,e)},v.prototype.toESObservable=oe,v.prototype[ne]=oe,v.prototype.map=function(e){return _e(this,e)},v.prototype.filter=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;return new(e._ofSameType(me,ve))(e,{fn:t})}(this,e)},v.prototype.take=function(e){return function(e,t){return new(e._ofSameType(we,xe))(e,{n:t})}(this,e)},v.prototype.takeErrors=function(e){return function(e,t){return new(e._ofSameType(Ae,Se))(e,{n:t})}(this,e)},v.prototype.takeWhile=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;return new(e._ofSameType(je,Te))(e,{fn:t})}(this,e)},v.prototype.last=function(){return new((e=this)._ofSameType(De,Me))(e);var e},v.prototype.skip=function(e){return function(e,t){return new(e._ofSameType(Pe,Ce))(e,{n:t})}(this,e)},v.prototype.skipWhile=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return new(e._ofSameType(qe,Be))(e,{fn:t})}(this,e)},v.prototype.skipDuplicates=function(e){return $e(this,e)},v.prototype.diff=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return new(e._ofSameType(Ke,We))(e,{fn:t||ze,seed:n})}(this,e,t)},v.prototype.scan=function(e,t){return function(e,t){return new Je(e,{fn:t,seed:arguments.length>2&&void 0!==arguments[2]?arguments[2]:o})}(this,e,t)},v.prototype.flatten=function(e){return function(e){return new Xe(e,{fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qe})}(this,e)},v.prototype.delay=function(e){return function(e,t){return new(e._ofSameType(et,tt))(e,{wait:t})}(this,e)},v.prototype.throttle=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.leading,i=void 0===r||r,o=n.trailing,s=void 0===o||o;return new(e._ofSameType(it,ot))(e,{wait:t,leading:i,trailing:s})}(this,e,t)},v.prototype.debounce=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).immediate,r=void 0!==n&&n;return new(e._ofSameType(at,ut))(e,{wait:t,immediate:r})}(this,e,t)},v.prototype.mapErrors=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ht;return new(e._ofSameType(lt,ft))(e,{fn:t})}(this,e)},v.prototype.filterErrors=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;return new(e._ofSameType(dt,_t))(e,{fn:t})}(this,e)},v.prototype.ignoreValues=function(){return new((e=this)._ofSameType(vt,gt))(e);var e},v.prototype.ignoreErrors=function(){return new((e=this)._ofSameType(wt,xt))(e);var e},v.prototype.ignoreEnd=function(){return new((e=this)._ofSameType(At,St))(e);var e},v.prototype.beforeEnd=function(e){return function(e,t){return new(e._ofSameType(jt,Tt))(e,{fn:t})}(this,e)},v.prototype.slidingWindow=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new(e._ofSameType(kt,Dt))(e,{min:n,max:t})}(this,e,t)},v.prototype.bufferWhile=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,r=void 0===n||n;return new(e._ofSameType(Lt,Pt))(e,{fn:t||Ct,flushOnEnd:r})}(this,e,t)},v.prototype.bufferWithCount=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,r=void 0===n||n;return new(e._ofSameType(qt,Bt))(e,{count:t,flushOnEnd:r})}(this,e,t)},v.prototype.bufferWithTimeOrCount=function(e,t,n){return function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).flushOnEnd,i=void 0===r||r;return new(e._ofSameType(Ft,Vt))(e,{wait:t,count:n,flushOnEnd:i})}(this,e,t,n)},v.prototype.transduce=function(e){return function(e,t){return new(e._ofSameType(Ht,$t))(e,{transducer:t})}(this,e)},v.prototype.withHandler=function(e){return function(e,t){return new(e._ofSameType(Kt,Wt))(e,{fn:t})}(this,e)},v.prototype.thru=function(e){return e(this)},v.prototype.combine=function(e,t){return ue([this,e],t)},v.prototype.zip=function(e,t){return Xt([this,e],t)},v.prototype.merge=function(e){return en([this,e])},v.prototype.concat=function(e){return rn([this,e])};var Vn=function(){return new on};v.prototype.flatMap=function(e){return new sn(this,e).setName(this,"flatMap")},v.prototype.flatMapLatest=function(e){return new sn(this,e,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},v.prototype.flatMapFirst=function(e){return new sn(this,e,{concurLim:1}).setName(this,"flatMapFirst")},v.prototype.flatMapConcat=function(e){return new sn(this,e,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},v.prototype.flatMapConcurLimit=function(e,t){return new sn(this,e,{queueLim:-1,concurLim:t}).setName(this,"flatMapConcurLimit")},v.prototype.flatMapErrors=function(e){return new an(this,e).setName(this,"flatMapErrors")},v.prototype.filterBy=function(e){return n=e,new((t=this)._ofSameType(pn,dn))(t,n);var t,n},v.prototype.sampledBy=function(e,t){return function(e,t,n){return ue([t],[e],n?function(e,t){return n(t,e)}:_n).setName(e,"sampledBy")}(this,e,t)},v.prototype.skipUntilBy=function(e){return n=e,new((t=this)._ofSameType(mn,vn))(t,n);var t,n},v.prototype.takeUntilBy=function(e){return n=e,new((t=this)._ofSameType(bn,wn))(t,n);var t,n},v.prototype.bufferBy=function(e,t){return function(e,t,n){return new(e._ofSameType(En,An))(e,t,n)}(this,e,t)},v.prototype.bufferWhileBy=function(e,t){return function(e,t,n){return new(e._ofSameType(On,jn))(e,t,n)}(this,e,t)};var Un=!0;function Hn(e){if(Un&&console&&"function"==typeof console.warn){console.warn(e,"\nHere is an Error object for you containing the call stack:",new Error)}}v.prototype.awaiting=function(e){return Hn("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),function(e,t){var n=en([_e(e,In),_e(t,Tn)]);return(n=Q(n=$e(n),Tn)).setName(e,"awaiting")}(this,e)},v.prototype.valuesToErrors=function(e){return Hn("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln;return new(e._ofSameType(Dn,Mn))(e,{fn:t})}(this,e)},v.prototype.errorsToValues=function(e){return Hn("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn;return new(e._ofSameType(Cn,Rn))(e,{fn:t})}(this,e)},v.prototype.endOnError=function(){return Hn("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),new((e=this)._ofSameType(Nn,Fn))(e);var e};var $n={Observable:v,Stream:g,Property:b,never:x,later:S,interval:j,sequentially:I,fromPoll:D,withInterval:P,fromCallback:q,fromNodeCallback:B,fromEvents:V,stream:R,constant:H,constantError:G,fromPromise:Z,fromESObservable:re,combine:ue,zip:Xt,merge:en,concat:rn,Pool:on,pool:Vn,repeat:nn,staticLand:le};$n.Kefir=$n,n.dissableDeprecationWarnings=function(){Un=!1},n.Kefir=$n,n.Observable=v,n.Stream=g,n.Property=b,n.never=x,n.later=S,n.interval=j,n.sequentially=I,n.fromPoll=D,n.withInterval=P,n.fromCallback=q,n.fromNodeCallback=B,n.fromEvents=V,n.stream=R,n.constant=H,n.constantError=G,n.fromPromise=Z,n.fromESObservable=re,n.combine=ue,n.zip=Xt,n.merge=en,n.concat=rn,n.Pool=on,n.pool=Vn,n.repeat=nn,n.staticLand=le,n.default=$n,Object.defineProperty(n,"__esModule",{value:!0})}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"DataView");t.exports=r},{"./_getNative":129,"./_root":173}],31:[function(e,t,n){var r=e("./_hashClear"),i=e("./_hashDelete"),o=e("./_hashGet"),s=e("./_hashHas"),a=e("./_hashSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},{"./_hashClear":137,"./_hashDelete":138,"./_hashGet":139,"./_hashHas":140,"./_hashSet":141}],32:[function(e,t,n){var r=e("./_listCacheClear"),i=e("./_listCacheDelete"),o=e("./_listCacheGet"),s=e("./_listCacheHas"),a=e("./_listCacheSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},{"./_listCacheClear":153,"./_listCacheDelete":154,"./_listCacheGet":155,"./_listCacheHas":156,"./_listCacheSet":157}],33:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Map");t.exports=r},{"./_getNative":129,"./_root":173}],34:[function(e,t,n){var r=e("./_mapCacheClear"),i=e("./_mapCacheDelete"),o=e("./_mapCacheGet"),s=e("./_mapCacheHas"),a=e("./_mapCacheSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},{"./_mapCacheClear":158,"./_mapCacheDelete":159,"./_mapCacheGet":160,"./_mapCacheHas":161,"./_mapCacheSet":162}],35:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Promise");t.exports=r},{"./_getNative":129,"./_root":173}],36:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Set");t.exports=r},{"./_getNative":129,"./_root":173}],37:[function(e,t,n){var r=e("./_MapCache"),i=e("./_setCacheAdd"),o=e("./_setCacheHas");function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},{"./_MapCache":34,"./_setCacheAdd":174,"./_setCacheHas":175}],38:[function(e,t,n){var r=e("./_ListCache"),i=e("./_stackClear"),o=e("./_stackDelete"),s=e("./_stackGet"),a=e("./_stackHas"),u=e("./_stackSet");function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,t.exports=c},{"./_ListCache":32,"./_stackClear":179,"./_stackDelete":180,"./_stackGet":181,"./_stackHas":182,"./_stackSet":183}],39:[function(e,t,n){var r=e("./_root").Symbol;t.exports=r},{"./_root":173}],40:[function(e,t,n){var r=e("./_root").Uint8Array;t.exports=r},{"./_root":173}],41:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"WeakMap");t.exports=r},{"./_getNative":129,"./_root":173}],42:[function(e,t,n){t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},{}],43:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},{}],44:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},{}],45:[function(e,t,n){var r=e("./_baseIndexOf");t.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},{"./_baseIndexOf":70}],46:[function(e,t,n){t.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},{}],47:[function(e,t,n){var r=e("./_baseTimes"),i=e("./isArguments"),o=e("./isArray"),s=e("./isBuffer"),a=e("./_isIndex"),u=e("./isTypedArray"),c=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&s(e),h=!n&&!l&&!f&&u(e),p=n||l||f||h,d=p?r(e.length,String):[],_=d.length;for(var y in e)!t&&!c.call(e,y)||p&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||a(y,_))||d.push(y);return d}},{"./_baseTimes":94,"./_isIndex":146,"./isArguments":205,"./isArray":206,"./isBuffer":209,"./isTypedArray":218}],48:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},{}],49:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},{}],50:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},{}],51:[function(e,t,n){var r=e("./_baseAssignValue"),i=e("./eq"),o=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var s=e[t];o.call(e,t)&&i(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},{"./_baseAssignValue":55,"./eq":192}],52:[function(e,t,n){var r=e("./eq");t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},{"./eq":192}],53:[function(e,t,n){var r=e("./_copyObject"),i=e("./keys");t.exports=function(e,t){return e&&r(t,i(t),e)}},{"./_copyObject":112,"./keys":219}],54:[function(e,t,n){var r=e("./_copyObject"),i=e("./keysIn");t.exports=function(e,t){return e&&r(t,i(t),e)}},{"./_copyObject":112,"./keysIn":220}],55:[function(e,t,n){var r=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},{"./_defineProperty":119}],56:[function(e,t,n){t.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},{}],57:[function(e,t,n){var r=e("./_Stack"),i=e("./_arrayEach"),o=e("./_assignValue"),s=e("./_baseAssign"),a=e("./_baseAssignIn"),u=e("./_cloneBuffer"),c=e("./_copyArray"),l=e("./_copySymbols"),f=e("./_copySymbolsIn"),h=e("./_getAllKeys"),p=e("./_getAllKeysIn"),d=e("./_getTag"),_=e("./_initCloneArray"),y=e("./_initCloneByTag"),m=e("./_initCloneObject"),v=e("./isArray"),g=e("./isBuffer"),b=e("./isMap"),w=e("./isObject"),x=e("./isSet"),E=e("./keys"),A=e("./keysIn"),S=1,O=2,j=4,T="[object Arguments]",I="[object Function]",k="[object GeneratorFunction]",D="[object Object]",M={};M[T]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[D]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[I]=M["[object WeakMap]"]=!1,t.exports=function e(t,n,L,P,C,R){var q,B=n&S,N=n&O,F=n&j;if(L&&(q=C?L(t,P,C,R):L(t)),void 0!==q)return q;if(!w(t))return t;var V=v(t);if(V){if(q=_(t),!B)return c(t,q)}else{var U=d(t),H=U==I||U==k;if(g(t))return u(t,B);if(U==D||U==T||H&&!C){if(q=N||H?{}:m(t),!B)return N?f(t,a(q,t)):l(t,s(q,t))}else{if(!M[U])return C?t:{};q=y(t,U,B)}}R||(R=new r);var $=R.get(t);if($)return $;R.set(t,q),x(t)?t.forEach((function(r){q.add(e(r,n,L,r,t,R))})):b(t)&&t.forEach((function(r,i){q.set(i,e(r,n,L,i,t,R))}));var G=V?void 0:(F?N?p:h:N?A:E)(t);return i(G||t,(function(r,i){G&&(r=t[i=r]),o(q,i,e(r,n,L,i,t,R))})),q}},{"./_Stack":38,"./_arrayEach":43,"./_assignValue":51,"./_baseAssign":53,"./_baseAssignIn":54,"./_cloneBuffer":104,"./_copyArray":111,"./_copySymbols":113,"./_copySymbolsIn":114,"./_getAllKeys":125,"./_getAllKeysIn":126,"./_getTag":134,"./_initCloneArray":142,"./_initCloneByTag":143,"./_initCloneObject":144,"./isArray":206,"./isBuffer":209,"./isMap":212,"./isObject":213,"./isSet":215,"./keys":219,"./keysIn":220}],58:[function(e,t,n){var r=e("./isObject"),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();t.exports=o},{"./isObject":213}],59:[function(e,t,n){var r=e("./_baseForOwn"),i=e("./_createBaseEach")(r);t.exports=i},{"./_baseForOwn":64,"./_createBaseEach":116}],60:[function(e,t,n){var r=e("./_baseEach");t.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},{"./_baseEach":59}],61:[function(e,t,n){t.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},{}],62:[function(e,t,n){var r=e("./_arrayPush"),i=e("./_isFlattenable");t.exports=function e(t,n,o,s,a){var u=-1,c=t.length;for(o||(o=i),a||(a=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,s,a):r(a,l):s||(a[a.length]=l)}return a}},{"./_arrayPush":49,"./_isFlattenable":145}],63:[function(e,t,n){var r=e("./_createBaseFor")();t.exports=r},{"./_createBaseFor":117}],64:[function(e,t,n){var r=e("./_baseFor"),i=e("./keys");t.exports=function(e,t){return e&&r(e,t,i)}},{"./_baseFor":63,"./keys":219}],65:[function(e,t,n){var r=e("./_castPath"),i=e("./_toKey");t.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},{"./_castPath":102,"./_toKey":186}],66:[function(e,t,n){var r=e("./_arrayPush"),i=e("./isArray");t.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},{"./_arrayPush":49,"./isArray":206}],67:[function(e,t,n){var r=e("./_Symbol"),i=e("./_getRawTag"),o=e("./_objectToString"),s="[object Null]",a="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?a:s:u&&u in Object(e)?i(e):o(e)}},{"./_Symbol":39,"./_getRawTag":131,"./_objectToString":170}],68:[function(e,t,n){var r=Object.prototype.hasOwnProperty;t.exports=function(e,t){return null!=e&&r.call(e,t)}},{}],69:[function(e,t,n){t.exports=function(e,t){return null!=e&&t in Object(e)}},{}],70:[function(e,t,n){var r=e("./_baseFindIndex"),i=e("./_baseIsNaN"),o=e("./_strictIndexOf");t.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},{"./_baseFindIndex":61,"./_baseIsNaN":77,"./_strictIndexOf":184}],71:[function(e,t,n){var r=e("./_SetCache"),i=e("./_arrayIncludes"),o=e("./_arrayIncludesWith"),s=e("./_arrayMap"),a=e("./_baseUnary"),u=e("./_cacheHas"),c=Math.min;t.exports=function(e,t,n){for(var l=n?o:i,f=e[0].length,h=e.length,p=h,d=Array(h),_=1/0,y=[];p--;){var m=e[p];p&&t&&(m=s(m,a(t))),_=c(m.length,_),d[p]=!n&&(t||f>=120&&m.length>=120)?new r(p&&m):void 0}m=e[0];var v=-1,g=d[0];e:for(;++v<f&&y.length<_;){var b=m[v],w=t?t(b):b;if(b=n||0!==b?b:0,!(g?u(g,w):l(y,w,n))){for(p=h;--p;){var x=d[p];if(!(x?u(x,w):l(e[p],w,n)))continue e}g&&g.push(w),y.push(b)}}return y}},{"./_SetCache":37,"./_arrayIncludes":45,"./_arrayIncludesWith":46,"./_arrayMap":48,"./_baseUnary":97,"./_cacheHas":99}],72:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObjectLike"),o="[object Arguments]";t.exports=function(e){return i(e)&&r(e)==o}},{"./_baseGetTag":67,"./isObjectLike":214}],73:[function(e,t,n){var r=e("./_baseIsEqualDeep"),i=e("./isObjectLike");t.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,s,e,a))}},{"./_baseIsEqualDeep":74,"./isObjectLike":214}],74:[function(e,t,n){var r=e("./_Stack"),i=e("./_equalArrays"),o=e("./_equalByTag"),s=e("./_equalObjects"),a=e("./_getTag"),u=e("./isArray"),c=e("./isBuffer"),l=e("./isTypedArray"),f=1,h="[object Arguments]",p="[object Array]",d="[object Object]",_=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,y,m,v){var g=u(e),b=u(t),w=g?p:a(e),x=b?p:a(t),E=(w=w==h?d:w)==d,A=(x=x==h?d:x)==d,S=w==x;if(S&&c(e)){if(!c(t))return!1;g=!0,E=!1}if(S&&!E)return v||(v=new r),g||l(e)?i(e,t,n,y,m,v):o(e,t,w,n,y,m,v);if(!(n&f)){var O=E&&_.call(e,"__wrapped__"),j=A&&_.call(t,"__wrapped__");if(O||j){var T=O?e.value():e,I=j?t.value():t;return v||(v=new r),m(T,I,n,y,v)}}return!!S&&(v||(v=new r),s(e,t,n,y,m,v))}},{"./_Stack":38,"./_equalArrays":120,"./_equalByTag":121,"./_equalObjects":122,"./_getTag":134,"./isArray":206,"./isBuffer":209,"./isTypedArray":218}],75:[function(e,t,n){var r=e("./_getTag"),i=e("./isObjectLike"),o="[object Map]";t.exports=function(e){return i(e)&&r(e)==o}},{"./_getTag":134,"./isObjectLike":214}],76:[function(e,t,n){var r=e("./_Stack"),i=e("./_baseIsEqual"),o=1,s=2;t.exports=function(e,t,n,a){var u=n.length,c=u,l=!a;if(null==e)return!c;for(e=Object(e);u--;){var f=n[u];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<c;){var h=(f=n[u])[0],p=e[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in e))return!1}else{var _=new r;if(a)var y=a(p,d,h,e,t,_);if(!(void 0===y?i(d,p,o|s,a,_):y))return!1}}return!0}},{"./_Stack":38,"./_baseIsEqual":73}],77:[function(e,t,n){t.exports=function(e){return e!=e}},{}],78:[function(e,t,n){var r=e("./isFunction"),i=e("./_isMasked"),o=e("./isObject"),s=e("./_toSource"),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:a).test(s(e))}},{"./_isMasked":150,"./_toSource":187,"./isFunction":210,"./isObject":213}],79:[function(e,t,n){var r=e("./_getTag"),i=e("./isObjectLike"),o="[object Set]";t.exports=function(e){return i(e)&&r(e)==o}},{"./_getTag":134,"./isObjectLike":214}],80:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isLength"),o=e("./isObjectLike"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},{"./_baseGetTag":67,"./isLength":211,"./isObjectLike":214}],81:[function(e,t,n){var r=e("./_baseMatches"),i=e("./_baseMatchesProperty"),o=e("./identity"),s=e("./isArray"),a=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):r(e):a(e)}},{"./_baseMatches":85,"./_baseMatchesProperty":86,"./identity":202,"./isArray":206,"./property":225}],82:[function(e,t,n){var r=e("./_isPrototype"),i=e("./_nativeKeys"),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},{"./_isPrototype":151,"./_nativeKeys":167}],83:[function(e,t,n){var r=e("./isObject"),i=e("./_isPrototype"),o=e("./_nativeKeysIn"),s=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},{"./_isPrototype":151,"./_nativeKeysIn":168,"./isObject":213}],84:[function(e,t,n){var r=e("./_baseEach"),i=e("./isArrayLike");t.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},{"./_baseEach":59,"./isArrayLike":207}],85:[function(e,t,n){var r=e("./_baseIsMatch"),i=e("./_getMatchData"),o=e("./_matchesStrictComparable");t.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},{"./_baseIsMatch":76,"./_getMatchData":128,"./_matchesStrictComparable":164}],86:[function(e,t,n){var r=e("./_baseIsEqual"),i=e("./get"),o=e("./hasIn"),s=e("./_isKey"),a=e("./_isStrictComparable"),u=e("./_matchesStrictComparable"),c=e("./_toKey"),l=1,f=2;t.exports=function(e,t){return s(e)&&a(t)?u(c(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?o(n,e):r(t,s,l|f)}}},{"./_baseIsEqual":73,"./_isKey":148,"./_isStrictComparable":152,"./_matchesStrictComparable":164,"./_toKey":186,"./get":199,"./hasIn":201}],87:[function(e,t,n){var r=e("./_arrayMap"),i=e("./_baseGet"),o=e("./_baseIteratee"),s=e("./_baseMap"),a=e("./_baseSortBy"),u=e("./_baseUnary"),c=e("./_compareMultiple"),l=e("./identity"),f=e("./isArray");t.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var h=-1;t=r(t,u(o));var p=s(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return a(p,(function(e,t){return c(e,t,n)}))}},{"./_arrayMap":48,"./_baseGet":65,"./_baseIteratee":81,"./_baseMap":84,"./_baseSortBy":93,"./_baseUnary":97,"./_compareMultiple":110,"./identity":202,"./isArray":206}],88:[function(e,t,n){t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},{}],89:[function(e,t,n){var r=e("./_baseGet");t.exports=function(e){return function(t){return r(t,e)}}},{"./_baseGet":65}],90:[function(e,t,n){t.exports=function(e){return function(t){return null==e?void 0:e[t]}}},{}],91:[function(e,t,n){var r=e("./identity"),i=e("./_overRest"),o=e("./_setToString");t.exports=function(e,t){return o(i(e,t,r),e+"")}},{"./_overRest":172,"./_setToString":177,"./identity":202}],92:[function(e,t,n){var r=e("./constant"),i=e("./_defineProperty"),o=e("./identity"),s=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;t.exports=s},{"./_defineProperty":119,"./constant":190,"./identity":202}],93:[function(e,t,n){t.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},{}],94:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},{}],95:[function(e,t,n){var r=e("./_Symbol"),i=e("./_arrayMap"),o=e("./isArray"),s=e("./isSymbol"),a=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-a?"-0":n}},{"./_Symbol":39,"./_arrayMap":48,"./isArray":206,"./isSymbol":217}],96:[function(e,t,n){var r=e("./_trimmedEndIndex"),i=/^\s+/;t.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},{"./_trimmedEndIndex":188}],97:[function(e,t,n){t.exports=function(e){return function(t){return e(t)}}},{}],98:[function(e,t,n){var r=e("./_arrayMap");t.exports=function(e,t){return r(t,(function(t){return e[t]}))}},{"./_arrayMap":48}],99:[function(e,t,n){t.exports=function(e,t){return e.has(t)}},{}],100:[function(e,t,n){var r=e("./isArrayLikeObject");t.exports=function(e){return r(e)?e:[]}},{"./isArrayLikeObject":208}],101:[function(e,t,n){var r=e("./identity");t.exports=function(e){return"function"==typeof e?e:r}},{"./identity":202}],102:[function(e,t,n){var r=e("./isArray"),i=e("./_isKey"),o=e("./_stringToPath"),s=e("./toString");t.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}},{"./_isKey":148,"./_stringToPath":185,"./isArray":206,"./toString":233}],103:[function(e,t,n){var r=e("./_Uint8Array");t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},{"./_Uint8Array":40}],104:[function(e,t,n){var r=e("./_root"),i="object"==typeof n&&n&&!n.nodeType&&n,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},{"./_root":173}],105:[function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},{"./_cloneArrayBuffer":103}],106:[function(e,t,n){var r=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},{}],107:[function(e,t,n){var r=e("./_Symbol"),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(e){return o?Object(o.call(e)):{}}},{"./_Symbol":39}],108:[function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},{"./_cloneArrayBuffer":103}],109:[function(e,t,n){var r=e("./isSymbol");t.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,s=r(e),a=void 0!==t,u=null===t,c=t==t,l=r(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||i&&a&&c||!n&&c||!o)return 1;if(!i&&!s&&!l&&e<t||l&&n&&o&&!i&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}},{"./isSymbol":217}],110:[function(e,t,n){var r=e("./_compareAscending");t.exports=function(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,u=n.length;++i<a;){var c=r(o[i],s[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},{"./_compareAscending":109}],111:[function(e,t,n){t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},{}],112:[function(e,t,n){var r=e("./_assignValue"),i=e("./_baseAssignValue");t.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var c=t[a],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),s?i(n,c,l):r(n,c,l)}return n}},{"./_assignValue":51,"./_baseAssignValue":55}],113:[function(e,t,n){var r=e("./_copyObject"),i=e("./_getSymbols");t.exports=function(e,t){return r(e,i(e),t)}},{"./_copyObject":112,"./_getSymbols":132}],114:[function(e,t,n){var r=e("./_copyObject"),i=e("./_getSymbolsIn");t.exports=function(e,t){return r(e,i(e),t)}},{"./_copyObject":112,"./_getSymbolsIn":133}],115:[function(e,t,n){var r=e("./_root")["__core-js_shared__"];t.exports=r},{"./_root":173}],116:[function(e,t,n){var r=e("./isArrayLike");t.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},{"./isArrayLike":207}],117:[function(e,t,n){t.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}},{}],118:[function(e,t,n){var r=e("./_baseIteratee"),i=e("./isArrayLike"),o=e("./keys");t.exports=function(e){return function(t,n,s){var a=Object(t);if(!i(t)){var u=r(n,3);t=o(t),n=function(e){return u(a[e],e,a)}}var c=e(t,n,s);return c>-1?a[u?t[c]:c]:void 0}}},{"./_baseIteratee":81,"./isArrayLike":207,"./keys":219}],119:[function(e,t,n){var r=e("./_getNative"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=i},{"./_getNative":129}],120:[function(e,t,n){var r=e("./_SetCache"),i=e("./_arraySome"),o=e("./_cacheHas"),s=1,a=2;t.exports=function(e,t,n,u,c,l){var f=n&s,h=e.length,p=t.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(e),_=l.get(t);if(d&&_)return d==t&&_==e;var y=-1,m=!0,v=n&a?new r:void 0;for(l.set(e,t),l.set(t,e);++y<h;){var g=e[y],b=t[y];if(u)var w=f?u(b,g,y,t,e,l):u(g,b,y,e,t,l);if(void 0!==w){if(w)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(g===e||c(g,e,n,u,l)))return v.push(t)}))){m=!1;break}}else if(g!==b&&!c(g,b,n,u,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},{"./_SetCache":37,"./_arraySome":50,"./_cacheHas":99}],121:[function(e,t,n){var r=e("./_Symbol"),i=e("./_Uint8Array"),o=e("./eq"),s=e("./_equalArrays"),a=e("./_mapToArray"),u=e("./_setToArray"),c=1,l=2,f="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Map]",_="[object Number]",y="[object RegExp]",m="[object Set]",v="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",x=r?r.prototype:void 0,E=x?x.valueOf:void 0;t.exports=function(e,t,n,r,x,A,S){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!A(new i(e),new i(t)));case f:case h:case _:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case y:case v:return e==t+"";case d:var O=a;case m:var j=r&c;if(O||(O=u),e.size!=t.size&&!j)return!1;var T=S.get(e);if(T)return T==t;r|=l,S.set(e,t);var I=s(O(e),O(t),r,x,A,S);return S.delete(e),I;case g:if(E)return E.call(e)==E.call(t)}return!1}},{"./_Symbol":39,"./_Uint8Array":40,"./_equalArrays":120,"./_mapToArray":163,"./_setToArray":176,"./eq":192}],122:[function(e,t,n){var r=e("./_getAllKeys"),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,s,a,u){var c=n&i,l=r(e),f=l.length;if(f!=r(t).length&&!c)return!1;for(var h=f;h--;){var p=l[h];if(!(c?p in t:o.call(t,p)))return!1}var d=u.get(e),_=u.get(t);if(d&&_)return d==t&&_==e;var y=!0;u.set(e,t),u.set(t,e);for(var m=c;++h<f;){var v=e[p=l[h]],g=t[p];if(s)var b=c?s(g,v,p,t,e,u):s(v,g,p,e,t,u);if(!(void 0===b?v===g||a(v,g,n,s,u):b)){y=!1;break}m||(m="constructor"==p)}if(y&&!m){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(y=!1)}return u.delete(e),u.delete(t),y}},{"./_getAllKeys":125}],123:[function(e,t,n){var r=e("./_basePropertyOf")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=r},{"./_basePropertyOf":90}],124:[function(e,t,n){(function(e){(function(){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],125:[function(e,t,n){var r=e("./_baseGetAllKeys"),i=e("./_getSymbols"),o=e("./keys");t.exports=function(e){return r(e,o,i)}},{"./_baseGetAllKeys":66,"./_getSymbols":132,"./keys":219}],126:[function(e,t,n){var r=e("./_baseGetAllKeys"),i=e("./_getSymbolsIn"),o=e("./keysIn");t.exports=function(e){return r(e,o,i)}},{"./_baseGetAllKeys":66,"./_getSymbolsIn":133,"./keysIn":220}],127:[function(e,t,n){var r=e("./_isKeyable");t.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},{"./_isKeyable":149}],128:[function(e,t,n){var r=e("./_isStrictComparable"),i=e("./keys");t.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}},{"./_isStrictComparable":152,"./keys":219}],129:[function(e,t,n){var r=e("./_baseIsNative"),i=e("./_getValue");t.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},{"./_baseIsNative":78,"./_getValue":135}],130:[function(e,t,n){var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r},{"./_overArg":171}],131:[function(e,t,n){var r=e("./_Symbol"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},{"./_Symbol":39}],132:[function(e,t,n){var r=e("./_arrayFilter"),i=e("./stubArray"),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;t.exports=a},{"./_arrayFilter":44,"./stubArray":228}],133:[function(e,t,n){var r=e("./_arrayPush"),i=e("./_getPrototype"),o=e("./_getSymbols"),s=e("./stubArray"),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:s;t.exports=a},{"./_arrayPush":49,"./_getPrototype":130,"./_getSymbols":132,"./stubArray":228}],134:[function(e,t,n){var r=e("./_DataView"),i=e("./_Map"),o=e("./_Promise"),s=e("./_Set"),a=e("./_WeakMap"),u=e("./_baseGetTag"),c=e("./_toSource"),l="[object Map]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",d="[object DataView]",_=c(r),y=c(i),m=c(o),v=c(s),g=c(a),b=u;(r&&b(new r(new ArrayBuffer(1)))!=d||i&&b(new i)!=l||o&&b(o.resolve())!=f||s&&b(new s)!=h||a&&b(new a)!=p)&&(b=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case _:return d;case y:return l;case m:return f;case v:return h;case g:return p}return t}),t.exports=b},{"./_DataView":30,"./_Map":33,"./_Promise":35,"./_Set":36,"./_WeakMap":41,"./_baseGetTag":67,"./_toSource":187}],135:[function(e,t,n){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],136:[function(e,t,n){var r=e("./_castPath"),i=e("./isArguments"),o=e("./isArray"),s=e("./_isIndex"),a=e("./isLength"),u=e("./_toKey");t.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&a(l)&&s(h,l)&&(o(e)||i(e))}},{"./_castPath":102,"./_isIndex":146,"./_toKey":186,"./isArguments":205,"./isArray":206,"./isLength":211}],137:[function(e,t,n){var r=e("./_nativeCreate");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":166}],138:[function(e,t,n){t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},{}],139:[function(e,t,n){var r=e("./_nativeCreate"),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},{"./_nativeCreate":166}],140:[function(e,t,n){var r=e("./_nativeCreate"),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},{"./_nativeCreate":166}],141:[function(e,t,n){var r=e("./_nativeCreate"),i="__lodash_hash_undefined__";t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},{"./_nativeCreate":166}],142:[function(e,t,n){var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},{}],143:[function(e,t,n){var r=e("./_cloneArrayBuffer"),i=e("./_cloneDataView"),o=e("./_cloneRegExp"),s=e("./_cloneSymbol"),a=e("./_cloneTypedArray"),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",d="[object String]",_="[object Symbol]",y="[object ArrayBuffer]",m="[object DataView]",v="[object Float32Array]",g="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",O="[object Uint32Array]";t.exports=function(e,t,n){var j=e.constructor;switch(t){case y:return r(e);case u:case c:return new j(+e);case m:return i(e,n);case v:case g:case b:case w:case x:case E:case A:case S:case O:return a(e,n);case l:return new j;case f:case d:return new j(e);case h:return o(e);case p:return new j;case _:return s(e)}}},{"./_cloneArrayBuffer":103,"./_cloneDataView":105,"./_cloneRegExp":106,"./_cloneSymbol":107,"./_cloneTypedArray":108}],144:[function(e,t,n){var r=e("./_baseCreate"),i=e("./_getPrototype"),o=e("./_isPrototype");t.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},{"./_baseCreate":58,"./_getPrototype":130,"./_isPrototype":151}],145:[function(e,t,n){var r=e("./_Symbol"),i=e("./isArguments"),o=e("./isArray"),s=r?r.isConcatSpreadable:void 0;t.exports=function(e){return o(e)||i(e)||!!(s&&e&&e[s])}},{"./_Symbol":39,"./isArguments":205,"./isArray":206}],146:[function(e,t,n){var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}},{}],147:[function(e,t,n){var r=e("./eq"),i=e("./isArrayLike"),o=e("./_isIndex"),s=e("./isObject");t.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},{"./_isIndex":146,"./eq":192,"./isArrayLike":207,"./isObject":213}],148:[function(e,t,n){var r=e("./isArray"),i=e("./isSymbol"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},{"./isArray":206,"./isSymbol":217}],149:[function(e,t,n){t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],150:[function(e,t,n){var r,i=e("./_coreJsData"),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(e){return!!o&&o in e}},{"./_coreJsData":115}],151:[function(e,t,n){var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},{}],152:[function(e,t,n){var r=e("./isObject");t.exports=function(e){return e==e&&!r(e)}},{"./isObject":213}],153:[function(e,t,n){t.exports=function(){this.__data__=[],this.size=0}},{}],154:[function(e,t,n){var r=e("./_assocIndexOf"),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},{"./_assocIndexOf":52}],155:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},{"./_assocIndexOf":52}],156:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){return r(this.__data__,e)>-1}},{"./_assocIndexOf":52}],157:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},{"./_assocIndexOf":52}],158:[function(e,t,n){var r=e("./_Hash"),i=e("./_ListCache"),o=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},{"./_Hash":31,"./_ListCache":32,"./_Map":33}],159:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},{"./_getMapData":127}],160:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).get(e)}},{"./_getMapData":127}],161:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).has(e)}},{"./_getMapData":127}],162:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},{"./_getMapData":127}],163:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},{}],164:[function(e,t,n){t.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},{}],165:[function(e,t,n){var r=e("./memoize"),i=500;t.exports=function(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}},{"./memoize":222}],166:[function(e,t,n){var r=e("./_getNative")(Object,"create");t.exports=r},{"./_getNative":129}],167:[function(e,t,n){var r=e("./_overArg")(Object.keys,Object);t.exports=r},{"./_overArg":171}],168:[function(e,t,n){t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},{}],169:[function(e,t,n){var r=e("./_freeGlobal"),i="object"==typeof n&&n&&!n.nodeType&&n,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=a},{"./_freeGlobal":124}],170:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},{}],171:[function(e,t,n){t.exports=function(e,t){return function(n){return e(t(n))}}},{}],172:[function(e,t,n){var r=e("./_apply"),i=Math.max;t.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),u=Array(a);++s<a;)u[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(u),r(e,this,c)}}},{"./_apply":42}],173:[function(e,t,n){var r=e("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},{"./_freeGlobal":124}],174:[function(e,t,n){var r="__lodash_hash_undefined__";t.exports=function(e){return this.__data__.set(e,r),this}},{}],175:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],176:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},{}],177:[function(e,t,n){var r=e("./_baseSetToString"),i=e("./_shortOut")(r);t.exports=i},{"./_baseSetToString":92,"./_shortOut":178}],178:[function(e,t,n){var r=800,i=16,o=Date.now;t.exports=function(e){var t=0,n=0;return function(){var s=o(),a=i-(s-n);if(n=s,a>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},{}],179:[function(e,t,n){var r=e("./_ListCache");t.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":32}],180:[function(e,t,n){t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},{}],181:[function(e,t,n){t.exports=function(e){return this.__data__.get(e)}},{}],182:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],183:[function(e,t,n){var r=e("./_ListCache"),i=e("./_Map"),o=e("./_MapCache"),s=200;t.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<s-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},{"./_ListCache":32,"./_Map":33,"./_MapCache":34}],184:[function(e,t,n){t.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},{}],185:[function(e,t,n){var r=e("./_memoizeCapped"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));t.exports=s},{"./_memoizeCapped":165}],186:[function(e,t,n){var r=e("./isSymbol"),i=1/0;t.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},{"./isSymbol":217}],187:[function(e,t,n){var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},{}],188:[function(e,t,n){var r=/\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},{}],189:[function(e,t,n){var r=e("./_baseClone"),i=4;t.exports=function(e){return r(e,i)}},{"./_baseClone":57}],190:[function(e,t,n){t.exports=function(e){return function(){return e}}},{}],191:[function(e,t,n){t.exports=e("./forEach")},{"./forEach":198}],192:[function(e,t,n){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],193:[function(e,t,n){var r=e("./_escapeHtmlChar"),i=e("./toString"),o=/[&<>"']/g,s=RegExp(o.source);t.exports=function(e){return(e=i(e))&&s.test(e)?e.replace(o,r):e}},{"./_escapeHtmlChar":123,"./toString":233}],194:[function(e,t,n){var r=e("./_arrayFilter"),i=e("./_baseFilter"),o=e("./_baseIteratee"),s=e("./isArray");t.exports=function(e,t){return(s(e)?r:i)(e,o(t,3))}},{"./_arrayFilter":44,"./_baseFilter":60,"./_baseIteratee":81,"./isArray":206}],195:[function(e,t,n){var r=e("./_createFind")(e("./findIndex"));t.exports=r},{"./_createFind":118,"./findIndex":196}],196:[function(e,t,n){var r=e("./_baseFindIndex"),i=e("./_baseIteratee"),o=e("./toInteger"),s=Math.max;t.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var u=null==n?0:o(n);return u<0&&(u=s(a+u,0)),r(e,i(t,3),u)}},{"./_baseFindIndex":61,"./_baseIteratee":81,"./toInteger":231}],197:[function(e,t,n){var r=e("./_baseFlatten");t.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},{"./_baseFlatten":62}],198:[function(e,t,n){var r=e("./_arrayEach"),i=e("./_baseEach"),o=e("./_castFunction"),s=e("./isArray");t.exports=function(e,t){return(s(e)?r:i)(e,o(t))}},{"./_arrayEach":43,"./_baseEach":59,"./_castFunction":101,"./isArray":206}],199:[function(e,t,n){var r=e("./_baseGet");t.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},{"./_baseGet":65}],200:[function(e,t,n){var r=e("./_baseHas"),i=e("./_hasPath");t.exports=function(e,t){return null!=e&&i(e,t,r)}},{"./_baseHas":68,"./_hasPath":136}],201:[function(e,t,n){var r=e("./_baseHasIn"),i=e("./_hasPath");t.exports=function(e,t){return null!=e&&i(e,t,r)}},{"./_baseHasIn":69,"./_hasPath":136}],202:[function(e,t,n){t.exports=function(e){return e}},{}],203:[function(e,t,n){var r=e("./_baseIndexOf"),i=e("./isArrayLike"),o=e("./isString"),s=e("./toInteger"),a=e("./values"),u=Math.max;t.exports=function(e,t,n,c){e=i(e)?e:a(e),n=n&&!c?s(n):0;var l=e.length;return n<0&&(n=u(l+n,0)),o(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&r(e,t,n)>-1}},{"./_baseIndexOf":70,"./isArrayLike":207,"./isString":216,"./toInteger":231,"./values":234}],204:[function(e,t,n){var r=e("./_arrayMap"),i=e("./_baseIntersection"),o=e("./_baseRest"),s=e("./_castArrayLikeObject"),a=o((function(e){var t=r(e,s);return t.length&&t[0]===e[0]?i(t):[]}));t.exports=a},{"./_arrayMap":48,"./_baseIntersection":71,"./_baseRest":91,"./_castArrayLikeObject":100}],205:[function(e,t,n){var r=e("./_baseIsArguments"),i=e("./isObjectLike"),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};t.exports=u},{"./_baseIsArguments":72,"./isObjectLike":214}],206:[function(e,t,n){var r=Array.isArray;t.exports=r},{}],207:[function(e,t,n){var r=e("./isFunction"),i=e("./isLength");t.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},{"./isFunction":210,"./isLength":211}],208:[function(e,t,n){var r=e("./isArrayLike"),i=e("./isObjectLike");t.exports=function(e){return i(e)&&r(e)}},{"./isArrayLike":207,"./isObjectLike":214}],209:[function(e,t,n){var r=e("./_root"),i=e("./stubFalse"),o="object"==typeof n&&n&&!n.nodeType&&n,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;t.exports=u},{"./_root":173,"./stubFalse":229}],210:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObject"),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(e){if(!i(e))return!1;var t=r(e);return t==s||t==a||t==o||t==u}},{"./_baseGetTag":67,"./isObject":213}],211:[function(e,t,n){var r=9007199254740991;t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},{}],212:[function(e,t,n){var r=e("./_baseIsMap"),i=e("./_baseUnary"),o=e("./_nodeUtil"),s=o&&o.isMap,a=s?i(s):r;t.exports=a},{"./_baseIsMap":75,"./_baseUnary":97,"./_nodeUtil":169}],213:[function(e,t,n){t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},{}],214:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],215:[function(e,t,n){var r=e("./_baseIsSet"),i=e("./_baseUnary"),o=e("./_nodeUtil"),s=o&&o.isSet,a=s?i(s):r;t.exports=a},{"./_baseIsSet":79,"./_baseUnary":97,"./_nodeUtil":169}],216:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isArray"),o=e("./isObjectLike"),s="[object String]";t.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&r(e)==s}},{"./_baseGetTag":67,"./isArray":206,"./isObjectLike":214}],217:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObjectLike"),o="[object Symbol]";t.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}},{"./_baseGetTag":67,"./isObjectLike":214}],218:[function(e,t,n){var r=e("./_baseIsTypedArray"),i=e("./_baseUnary"),o=e("./_nodeUtil"),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},{"./_baseIsTypedArray":80,"./_baseUnary":97,"./_nodeUtil":169}],219:[function(e,t,n){var r=e("./_arrayLikeKeys"),i=e("./_baseKeys"),o=e("./isArrayLike");t.exports=function(e){return o(e)?r(e):i(e)}},{"./_arrayLikeKeys":47,"./_baseKeys":82,"./isArrayLike":207}],220:[function(e,t,n){var r=e("./_arrayLikeKeys"),i=e("./_baseKeysIn"),o=e("./isArrayLike");t.exports=function(e){return o(e)?r(e,!0):i(e)}},{"./_arrayLikeKeys":47,"./_baseKeysIn":83,"./isArrayLike":207}],221:[function(e,t,n){t.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},{}],222:[function(e,t,n){var r=e("./_MapCache"),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},{"./_MapCache":34}],223:[function(e,t,n){t.exports=function(){}},{}],224:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new Error("Parameter must be function");var t;return function(){if(e){var n=e;e=void 0,t=n.apply(this,arguments)}return t}}},{}],225:[function(e,t,n){var r=e("./_baseProperty"),i=e("./_basePropertyDeep"),o=e("./_isKey"),s=e("./_toKey");t.exports=function(e){return o(e)?r(s(e)):i(e)}},{"./_baseProperty":88,"./_basePropertyDeep":89,"./_isKey":148,"./_toKey":186}],226:[function(e,t,n){var r=e("./_baseFlatten"),i=e("./_baseOrderBy"),o=e("./_baseRest"),s=e("./_isIterateeCall"),a=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));t.exports=a},{"./_baseFlatten":62,"./_baseOrderBy":87,"./_baseRest":91,"./_isIterateeCall":147}],227:[function(e,t,n){var r=e("./_baseClamp"),i=e("./_baseToString"),o=e("./toInteger"),s=e("./toString");t.exports=function(e,t,n){return e=s(e),n=null==n?0:r(o(n),0,e.length),t=i(t),e.slice(n,n+t.length)==t}},{"./_baseClamp":56,"./_baseToString":95,"./toInteger":231,"./toString":233}],228:[function(e,t,n){t.exports=function(){return[]}},{}],229:[function(e,t,n){t.exports=function(){return!1}},{}],230:[function(e,t,n){var r=e("./toNumber"),i=1/0,o=17976931348623157e292;t.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},{"./toNumber":232}],231:[function(e,t,n){var r=e("./toFinite");t.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},{"./toFinite":230}],232:[function(e,t,n){var r=e("./_baseTrim"),i=e("./isObject"),o=e("./isSymbol"),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(o(e))return s;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?s:+e}},{"./_baseTrim":96,"./isObject":213,"./isSymbol":217}],233:[function(e,t,n){var r=e("./_baseToString");t.exports=function(e){return null==e?"":r(e)}},{"./_baseToString":95}],234:[function(e,t,n){var r=e("./_baseValues"),i=e("./keys");t.exports=function(e){return null==e?[]:r(e,i(e))}},{"./_baseValues":98,"./keys":219}],235:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t){return new s(e,t)}};var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),s=function(){function e(t,n){(0,i.default)(this,e),this.f=t,this.xform=n,this.i=-1}return(0,o.default)(e,[{key:"@@transducer/init",value:function(){return this.xform["@@transducer/init"]()}},{key:"@@transducer/result",value:function(e){return this.xform["@@transducer/result"](e)}},{key:"@@transducer/step",value:function(e,t){return this.i++,this.xform["@@transducer/step"](e,this.f(t,this.i))}}]),e}();t.exports=n.default,t.exports.default=n.default},{"@babel/runtime/helpers/classCallCheck":3,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/interopRequireDefault":5}],236:[function(e,t,n){(function(e){(function(){"use strict";n.__esModule=!0,n.default=function(e,t){if(i)return i.call(e,t);var n=e.parentNode;if(n&&"function"==typeof n.querySelectorAll)for(var r=n.querySelectorAll(t),o=0;o<r.length;o++)if(r[o]===e)return!0;return!1};var r=e.Element&&e.Element.prototype,i=r&&(r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector);t.exports=n.default,t.exports.default=n.default}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],237:[function(e,t,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(a[c]=n[c]);if(r){s=r(n);for(var l=0;l<s.length;l++)o.call(n,s[l])&&(a[s[l]]=n[s[l]])}}return a}},{}],238:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},{}],239:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],f=!1,h=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):h=-1,l.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new _(e,t)),1!==l.length||f||u(d)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],240:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,h,p,d,_=e[l].replace(a,"%20"),y=_.indexOf(n);y>=0?(f=_.substr(0,y),h=_.substr(y+1)):(f=_,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),r(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],241:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),(function(s){var a=encodeURIComponent(r(s))+n;return i(e[s])?o(e[s],(function(e){return a+encodeURIComponent(r(e))})).join(t):a+encodeURIComponent(r(e[s]))})).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],242:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":240,"./encode":241}],243:[function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:20}],244:[function(e,t,n){var r=e("safe-buffer").Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),l=0;l<c;l++)n[u+l]=e[a+l];a+=c,(s+=c)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},{"safe-buffer":243}],245:[function(e,t,n){var r=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,d=0|this._f,_=0|this._g,y=0|this._h,m=0;m<16;++m)n[m]=e.readInt32BE(4*m);for(;m<64;++m)n[m]=0|(((t=n[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[m-7]+p(n[m-15])+n[m-16];for(var v=0;v<64;++v){var g=y+h(u)+c(u,d,_)+s[v]+n[v]|0,b=f(r)+l(r,i,o)|0;y=_,_=d,d=u,u=a+g|0,a=o,o=i,i=r,r=g+b|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=d+this._f|0,this._g=_+this._g|0,this._h=y+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=u},{"./hash":244,inherits:27,"safe-buffer":243}],246:[function(e,t,n){var r={iterator:"undefined"!=typeof Symbol?Symbol.iterator:"@@iterator"};function i(e,t){throw new Error("don't know how to "+e+" collection: "+t)}function o(e,t){return"iterator"===t?e[r.iterator]||e.next:e[r[t]]}function s(e){var t=e[r["iterator"]];return t?t.call(e):e.next?e:l(e)?new a(e):h(e)?new u(e):void 0}function a(e){this.arr=e,this.index=0}function u(e){this.obj=e,this.keys=Object.keys(e),this.index=0}a.prototype.next=function(){return this.index<this.arr.length?{value:this.arr[this.index++],done:!1}:{done:!0}},u.prototype.next=function(){if(this.index<this.keys.length){var e=this.keys[this.index++];return{value:[e,this.obj[e]],done:!1}}return{done:!0}};var c=Object.prototype.toString,l="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"==c.call(e)};function f(e){return"function"==typeof e}function h(e){return e instanceof Object&&Object.getPrototypeOf(e)===Object.getPrototypeOf({})}function p(e){return"number"==typeof e}function d(e){this["@@transducer/reduced"]=!0,this["@@transducer/value"]=e}function _(e){return e instanceof d||e&&e["@@transducer/reduced"]}function y(e){return e["@@transducer/value"]}function m(e){return _(e)?y(e):e}function v(e,t,n){if(l(e)){for(var r=n,a=-1,u=e.length;++a<u;)if(_(r=t["@@transducer/step"](r,e[a]))){r=y(r);break}return t["@@transducer/result"](r)}if(h(e)||o(e,"iterator")){r=n;for(var c=s(e),f=c.next();!f.done;){if(_(r=t["@@transducer/step"](r,f.value))){r=y(r);break}f=c.next()}return t["@@transducer/result"](r)}i("iterate",e)}function g(e,t,n,r){return t=t(n),void 0===r&&(r=t["@@transducer/init"]()),v(e,t,r)}function b(){var e=Array.prototype.slice.call(arguments);return function(t){for(var n=t,r=e.length-1;r>=0;r--)n=e[r](n);return n}}function w(e,t,n){if(!t)return e;switch(n=null!=n?n:1){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};default:return e.bind(t)}}function x(e,t){this.xform=t,this.f=e}function E(e,t,n){return f(e)&&(n=t,t=e,e=null),t=w(t,n),e?l(e)?function(e,t,n){var r=-1,i=e.length,o=Array(i);for(t=w(t,n,2);++r<i;)o[r]=t(e[r],r);return o}(e,t,n):H(e,E(t)):function(e){return new x(t,e)}}function A(e,t){this.xform=t,this.f=e}function S(e,t,n){return f(e)&&(n=t,t=e,e=null),t=w(t,n),e?l(e)?function(e,t,n){var r=e.length,i=[];t=w(t,n,2);for(var o=0;o<r;o++)t(e[o],o)&&i.push(e[o]);return i}(e,t,n):H(e,S(t)):function(e){return new A(t,e)}}function O(e){this.xform=e,this.last=void 0}function j(e,t){this.xform=t,this.f=e}function T(e,t){this.n=e,this.i=0,this.xform=t}function I(e,t){this.n=e,this.i=0,this.xform=t}function k(e,t){this.xform=t,this.f=e,this.dropping=!0}function D(e,t){this.n=e,this.i=0,this.xform=t,this.part=new Array(e)}x.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},x.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},x.prototype["@@transducer/step"]=function(e,t){return this.xform["@@transducer/step"](e,this.f(t))},A.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},A.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},A.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xform["@@transducer/step"](e,t):e},O.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},O.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},O.prototype["@@transducer/step"]=function(e,t){return t!==this.last?(this.last=t,this.xform["@@transducer/step"](e,t)):e},j.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},j.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},j.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xform["@@transducer/step"](e,t):new d(e)},T.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},T.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},T.prototype["@@transducer/step"]=function(e,t){var n;return this.i<this.n&&(e=this.xform["@@transducer/step"](e,t),this.i+1>=this.n&&(e=_(n=e)?n:new d(n))),this.i++,e},I.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},I.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},I.prototype["@@transducer/step"]=function(e,t){return this.i++<this.n?e:this.xform["@@transducer/step"](e,t)},k.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},k.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},k.prototype["@@transducer/step"]=function(e,t){if(this.dropping){if(this.f(t))return e;this.dropping=!1}return this.xform["@@transducer/step"](e,t)},D.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},D.prototype["@@transducer/result"]=function(e){return this.i>0?m(this.xform["@@transducer/step"](e,this.part.slice(0,this.i))):this.xform["@@transducer/result"](e)},D.prototype["@@transducer/step"]=function(e,t){if(this.part[this.i]=t,this.i+=1,this.i===this.n){var n=this.part.slice(0,this.n);return this.part=new Array(this.n),this.i=0,this.xform["@@transducer/step"](e,n)}return e};var M={};function L(e,t){this.f=e,this.xform=t,this.part=[],this.last=M}function P(e,t){this.sep=e,this.xform=t,this.started=!1}function C(e,t){this.xform=t,this.n=e}function R(e,t){this.xform=t,this.n=e,this.i=-1}function q(e){this.xform=e}function B(e){return new q(e)}function N(e,t){return e.push(t),e}function F(e,t){if(l(t)&&2===t.length)e[t[0]]=t[1];else for(var n=Object.keys(t),r=n.length,i=0;i<r;i++)e[n[i]]=t[n[i]];return e}L.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},L.prototype["@@transducer/result"]=function(e){var t=this.part.length;return t>0?m(this.xform["@@transducer/step"](e,this.part.slice(0,t))):this.xform["@@transducer/result"](e)},L.prototype["@@transducer/step"]=function(e,t){var n=this.f(t);return n===this.last||this.last===M?this.part.push(t):(e=this.xform["@@transducer/step"](e,this.part),this.part=[t]),this.last=n,e},P.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},P.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},P.prototype["@@transducer/step"]=function(e,t){if(this.started){var n=this.xform["@@transducer/step"](e,this.sep);return _(n)?n:this.xform["@@transducer/step"](n,t)}return this.started=!0,this.xform["@@transducer/step"](e,t)},C.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},C.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},C.prototype["@@transducer/step"]=function(e,t){for(var n=this.n,r=e,i=0;i<n&&!_(r=this.xform["@@transducer/step"](r,t));i++);return r},R.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},R.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},R.prototype["@@transducer/step"]=function(e,t){return this.i+=1,this.i%this.n==0?this.xform["@@transducer/step"](e,t):e},q.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},q.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},q.prototype["@@transducer/step"]=function(e,t){var n=this.xform,r={"@@transducer/init":function(){return n["@@transducer/init"]()},"@@transducer/result":function(e){return e},"@@transducer/step":function(e,t){var r=n["@@transducer/step"](e,t);return _(r)?y(r):r}};return v(t,r,e)};var V={"@@transducer/init":function(){return[]},"@@transducer/result":function(e){return e}};V["@@transducer/step"]=N;var U={};function H(e,t){return l(e)?g(e,t,V,[]):h(e)?g(e,t,U,{}):e["@@transducer/step"]?(n=e["@@transducer/init"]?e["@@transducer/init"]():new e.constructor,g(e,t,e,n)):o(e,"iterator")?new K(t,e):void i("sequence",e);var n}U["@@transducer/init"]=function(){return{}},U["@@transducer/result"]=function(e){return e},U["@@transducer/step"]=F;var $={};function G(e,t){this.xform=e($),this.iter=t}function K(e,t){this.iter=s(t),this.items=[],this.stepper=new G(e,s(t))}$["@@transducer/result"]=function(e){return _(e)?y(e):e},$["@@transducer/step"]=function(e,t){return e.items.push(t),e.rest},G.prototype["@@transducer/step"]=function(e){for(var t=e.items.length;e.items.length===t;){var n=this.iter.next();if(n.done||_(n.value)){this.xform["@@transducer/result"](this);break}this.xform["@@transducer/step"](e,n.value)}},K.prototype[r.iterator]=function(){return this},K.prototype.next=function(){return this["@@transducer/step"](),this.items.length?{value:this.items.pop(),done:!1}:{done:!0}},K.prototype["@@transducer/step"]=function(){this.items.length||this.stepper["@@transducer/step"](this)},t.exports={reduce:v,transformer:function(e){var t={"@@transducer/init":function(){throw new Error("init value unavailable")},"@@transducer/result":function(e){return e}};return t["@@transducer/step"]=e,t},Reduced:d,isReduced:_,iterator:s,push:N,merge:F,transduce:g,seq:H,toArray:function(e,t){return t?g(e,t,V,[]):v(e,V,[])},toObj:function(e,t){return t?g(e,t,U,{}):v(e,U,{})},toIter:function(e,t){return t?new K(t,e):s(e)},into:function(e,t,n){return l(e)?g(n,t,V,e):h(e)?g(n,t,U,e):e["@@transducer/step"]?g(n,t,e,e):void i("into",e)},compose:b,map:E,filter:S,remove:function(e,t,n){return f(e)&&(n=t,t=e,e=null),t=w(t,n),S(e,(function(e){return!t(e)}))},cat:B,mapcat:function(e,t){return b(E(e=w(e,t)),B)},keep:function(e){return S(e,(function(e){return null!=e}))},dedupe:function e(t){return t?H(t,e()):function(e){return new O(e)}},take:function e(t,n){return p(t)&&(n=t,t=null),t?H(t,e(n)):function(e){return new T(n,e)}},takeWhile:function e(t,n,r){return f(t)&&(r=n,n=t,t=null),n=w(n,r),t?H(t,e(n)):function(e){return new j(n,e)}},takeNth:function e(t,n){return 1===arguments.length?(n=t,function(e){return new R(n,e)}):H(t,e(n))},drop:function e(t,n){return p(t)&&(n=t,t=null),t?H(t,e(n)):function(e){return new I(n,e)}},dropWhile:function e(t,n,r){return f(t)&&(r=n,n=t,t=null),n=w(n,r),t?H(t,e(n)):function(e){return new k(n,e)}},partition:function e(t,n){return p(t)&&(n=t,t=null),t?H(t,e(n)):function(e){return new D(n,e)}},partitionBy:function e(t,n,r){return f(t)&&(r=n,n=t,t=null),n=w(n,r),t?H(t,e(n)):function(e){return new L(n,e)}},interpose:function e(t,n){return 1===arguments.length?(n=t,function(e){return new P(n,e)}):H(t,e(n))},repeat:function e(t,n){return 1===arguments.length?(n=t,function(e){return new C(n,e)}):H(t,e(n))},range:function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=n;return t},LazyTransformer:K}},{}],247:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=a(e,(function(){if(!e.hot)return{fn:null,wrapper:t};var n={fn:null,wrapper:null},i=r(t.length).map((function(e){return"a"+e})).join(",");return n.wrapper=new Function("shared","\n      'use strict';\n      return function ".concat(t.name,"__ud_wrapper(").concat(i,") {\n        if (new.target) {\n          return Reflect.construct(shared.fn, arguments, new.target);\n        } else {\n          return shared.fn.apply(this, arguments);\n        }\n      };\n      "))(n),t.prototype?(n.wrapper.prototype=Object.create(t.prototype),n.wrapper.prototype.constructor=n.wrapper):n.wrapper.prototype=t.prototype,n}),"--defn-shared-"+n);i.fn=t,e.hot&&(t.prototype&&i.wrapper.prototype&&Object.getPrototypeOf(i.wrapper.prototype)!==t.prototype&&Object.setPrototypeOf(i.wrapper.prototype,t.prototype),Object.setPrototypeOf(i.wrapper,t));return i.wrapper},n.defobj=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=a(e,(function(){return t}),"--defobj-"+n);r!==t&&function(e,t){Object.getOwnPropertyNames(e).filter((function(e){return!Object.prototype.hasOwnProperty.call(t,e)})).forEach((function(t){delete e[t]}));var n=Object.getOwnPropertyNames(t);Object.defineProperties(e,i(n,n.map((function(e){return Object.getOwnPropertyDescriptor(t,e)})).filter(Boolean).map((function(e){return{value:e.value,enumerable:e.enumerable,writable:!0,configurable:!0}}))))}(r,t);return r},n.defonce=a,n.markReloadable=s;var r=e("array-range"),i=e("zip-object"),o=new WeakMap;function s(e){e.hot&&e.hot.accept()}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";s(e);var r=o.get(e);if(r||(r=new Set,o.set(e,r)),r.has(n))throw new Error("ud functions can only be used once per module with a given key");r.add(n);var i=!1,a=void 0;return e.hot&&(e.hot.data&&e.hot.data.__ud__&&Object.prototype.hasOwnProperty.call(e.hot.data.__ud__,n)&&(a=e.hot.data.__ud__[n],i=!0),e.hot.dispose((function(e){e.__ud__||(e.__ud__={}),e.__ud__[n]=a}))),i||(a=t()),a}},{"array-range":13,"zip-object":251}],248:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],249:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],250:[function(e,t,n){(function(t,r){(function(){var i=/%[sdj%]/g;n.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])_(u)||!b(u)?s+=" "+u:s+=" "+a(u);return s},n.deprecate=function(e,i){if(v(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,s={};function a(e,t){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(t)?r.showHidden=t:t&&n._extend(r,t),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(e,t,r){if(e.customInspect&&t&&E(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return m(i)||(i=l(e,i,r)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(_(t))return e.stylize("null","null")}(e,t);if(o)return o;var s=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),x(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(t);if(0===s.length){if(E(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(g(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(x(t))return f(t)}var c,b="",A=!1,S=["{","}"];(p(t)&&(A=!0,S=["[","]"]),E(t))&&(b=" [Function"+(t.name?": "+t.name:"")+"]");return g(t)&&(b=" "+RegExp.prototype.toString.call(t)),w(t)&&(b=" "+Date.prototype.toUTCString.call(t)),x(t)&&(b=" "+f(t)),0!==s.length||A&&0!=t.length?r<0?g(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=A?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)j(t,String(s))?o.push(h(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))})),o}(e,t,r,a,s):s.map((function(n){return h(e,t,r,a,n,A)})),e.seen.pop(),function(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,b,S)):S[0]+b+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),j(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=_(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function p(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function _(e){return null===e}function y(e){return"number"==typeof e}function m(e){return"string"==typeof e}function v(e){return void 0===e}function g(e){return b(e)&&"[object RegExp]"===A(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===A(e)}function x(e){return b(e)&&("[object Error]"===A(e)||e instanceof Error)}function E(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}n.debuglog=function(e){if(v(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else s[e]=function(){};return s[e]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=d,n.isNull=_,n.isNullOrUndefined=function(e){return null==e},n.isNumber=y,n.isString=m,n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=v,n.isRegExp=g,n.isObject=b,n.isDate=w,n.isError=x,n.isFunction=E,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":"),[e.getDate(),O[e.getMonth()],t].join(" ")),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":249,_process:239,inherits:248}],251:[function(e,t,n){t.exports=function(e,t){1==arguments.length&&(t=e[1],e=e[0]);for(var n={},r=0;r<e.length;r+=1)n[e[r]]=t[r];return n}},{}],252:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var i=r(e("querystring")),o=r(e("pdelay")),s=r(e("./cachebust-url"));const a=64e3,u=5,c={};function l(e){if(!e||"string"!=typeof e.url)throw new Error("URL must be given");return new Promise((function(t,n){const r=e.method?e.method:"GET";let f=e.url,h=null;e.data&&(h="string"==typeof e.data?e.data:i.default.stringify(e.data),"GET"!==r&&"HEAD"!==r||(f+=(/\?/.test(f)?"&":"?")+h,h=null));const p=null!=e.canRetry?e.canRetry:"GET"===r||"HEAD"===r,d=f.match(/(?:(?:[a-z]+:)?\/\/)?([^/]*)\//);if(!d)throw new Error("Failed to match url");const _=d[1];if(Object.prototype.hasOwnProperty.call(c,_))return void n(new Error(`Server at ${f} has told us to stop connecting`));e.cachebust&&(f=(0,s.default)(f));const y=new(e.XMLHttpRequest||window.XMLHttpRequest);if(Object.assign(y,e.xhrFields),y.onerror=function(r){if((e.retryNum||0)<u&&(502===y.status||(0===y.status||y.status>=500)&&p))return void t(function(e){const t=(e.retryNum||0)+1,n=Math.min(1e3*Math.pow(2,t),a);return(0,o.default)(n).then((()=>l(Object.assign({},e,{retryNum:t}))))}(e));const i=Object.assign(new Error(`Failed to load ${f}`),{event:r,xhr:y,status:y.status});490==y.status&&(c[_]=!0),n(i)},y.onload=function(e){200===y.status?t({xhr:y,text:y.responseText}):y.onerror(e)},y.open(r,f,!0),e.headers){const{headers:t}=e;Object.keys(t).forEach((e=>{const n=t[e];y.setRequestHeader(e,n)}))}y.send(h)}))}},{"./cachebust-url":253,"@babel/runtime/helpers/interopRequireDefault":5,pdelay:238,querystring:242}],253:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return r.test(e)?e.replace(r,"$1_="+i++):e+(/\?/.test(e)?"&":"?")+"_="+i++};const r=/([?&])_=[^&]*/;let i=Date.now()+Math.floor(Math.random()*Math.pow(2,32))},{}],254:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return JSON.stringify(e,((e,t)=>"string"!=typeof t||t.length<=10?t:s()?`${t.substring(0,10)}...`:"..."))};var i=r(e("lodash/once")),o=r(e("../platform-implementation-js/lib/isStreakAppId"));const s=(0,i.default)((()=>JSON.parse("undefined"!=typeof document&&document.documentElement.getAttribute("data-inboxsdk-active-app-ids")||"[]").find((e=>{let{appId:t}=e;return(0,o.default)(t)}))))},{"../platform-implementation-js/lib/isStreakAppId":295,"@babel/runtime/helpers/interopRequireDefault":5,"lodash/once":224}],255:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return{resolve:e,reject:t,promise:n}}},{}],256:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n=e.parentElement;for(;n;){if(t(n))return n;n=n.parentElement}return null}},{}],257:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=document.createElement("div");return t.innerHTML=e.replace(/<[^>]*>?/g,""),t.textContent}},{}],258:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){let t=[],n=0;const r=/"[^"]*"/g;for(;;){const i=r.exec(e);if(t=t.concat((i?e.substring(n,i.index):e.substring(n)).split(/ +/).filter(Boolean)),!i)break;n=i.index+i[0].length,t.push(i[0])}return t}},{}],259:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){let r=[];const i=[];let o=!1;function s(){i.shift()(),i.length?a():o=!1}function a(){o=!0;const e=function(){const e=Date.now()-t;if(r=r.filter((t=>t>e)),r.length>=n)return r[0]-e;return-1}();e>0?setTimeout(s,e):s()}return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];let u;const c=new Promise(((t,i)=>{u=()=>{r.push(Date.now());try{t(e.apply(this,n))}catch(e){i(e)}}}));if(!u)throw new Error("Should not happen");return i.push(u),o||a(),c}}},{}],260:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SEND_ACTIONS=n.DRAFT_SAVING_ACTIONS=void 0;n.SEND_ACTIONS=["^pfg"];n.DRAFT_SAVING_ACTIONS=["^r","^r_bt"]},{}],261:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("lodash/escape")),o=r(e("auto-html")),s=e("ud"),a=r(e("../../common/html-to-text")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("../../platform-implementation-js/dom-driver/gmail/gmail-response-processor"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var l=(0,s.defn)(t,(function(e,t){const{value:n,options:r}=u.deserialize(e),s=n[0][1];for(const e of t){let t,r,u,c;if("string"==typeof e.name?(t=e.name,r=(0,i.default)(t)):"string"==typeof e.nameHTML&&(r=e.nameHTML,t=(0,a.default)(r)),null==t||null==r)throw new Error("name or nameHTML must be provided");"string"==typeof e.description?(u=e.description,c=(0,i.default)(u)):"string"==typeof e.descriptionHTML&&(c=e.descriptionHTML,u=(0,a.default)(c));const l={id:e.id,routeName:e.routeName,routeParams:e.routeParams,externalURL:e.externalURL};r+=o.default` <span style="display:none" data-inboxsdk-suggestion="${JSON.stringify(l)}"></span>`,null!=e.iconHTML&&(r=`<div class="inboxsdk__custom_suggestion_iconHTML">${e.iconHTML}</div>${r}`);const f=["aso.sug",e.searchTerm||s,r,null,[],0,null,"asor inboxsdk__custom_suggestion "+e.providerId+" "+(e.iconClass||""),0];null!=c&&(f[3]=["aso.eme",u,t,c,r]),null!=e.iconHTML?(f[6]=["aso.thn","data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="],f[7]+=" inboxsdk__no_bg"):e.iconUrl?(f[6]=["aso.thn",e.iconUrl],f[7]+=" inboxsdk__no_bg"):f[7]+=" asor_i4",n[0][3].push(f)}return u.serialize(n,r)}));n.default=l},{"../../common/html-to-text":257,"../../platform-implementation-js/dom-driver/gmail/gmail-response-processor":286,"@babel/runtime/helpers/interopRequireDefault":5,"auto-html":17,"lodash/escape":193,ud:247}],262:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){let e=null;const t=top.document.getElementById("js_frame");t?e=t.contentDocument.defaultView:f.eventSdkPassive("noJSFrameElementFound");S(window,e)},n.setupGmailInterceptorOnFrames=S;var i=r(e("lodash/clone")),o=r(e("lodash/flatten")),s=r(e("lodash/find")),a=r(e("lodash/intersection")),u=r(e("lodash/includes")),c=r(e("bignumber.js")),l=r(e("kefir")),f=E(e("../injected-logger")),h=r(e("../xhr-proxy-factory")),p=E(e("querystring")),d=E(e("./thread-identifier")),_=E(e("../message-metadata-holder")),y=E(e("../../platform-implementation-js/dom-driver/gmail/gmail-response-processor")),m=E(e("../../platform-implementation-js/dom-driver/gmail/gmail-sync-response-processor")),v=r(e("../../common/quoted-split")),g=r(e("../../common/defer")),b=r(e("./modify-suggestions")),w=e("./sync-compose-processor");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function A(e,t){"XMLHttpRequest event listener error"!==t?f.error(e,t):setTimeout((function(){throw e}),1)}function S(e,t){const n=[],r=[];{const t=e.XMLHttpRequest;e.XMLHttpRequest=(0,h.default)(t,n,{logError:A})}if(t){const e=t.XMLHttpRequest;t.XMLHttpRequest=(0,h.default)(e,r,{logError:A})}d.setup(),_.setup();{let e={};l.default.fromEvents(document,"inboxSDKregisterComposeRequestModifier").onValue((t=>{let{detail:n}=t;const r=n.composeid||n.draftID;e[r]||(e[r]=[]),e[r].push(n.modifierId)})),l.default.fromEvents(document,"inboxSDKunregisterComposeRequestModifier").onValue((t=>{let{detail:n}=t;const{keyId:r,modifierId:i}=n;e[r]=e[r].filter((e=>e!==i)),0===e[r].length&&delete e[r]})),r.push({isRelevantTo:function(e){return"sm"===e.params.act},originalSendBodyLogger:function(e,t){O({type:"emailSending",body:t})},requestChanger:async function(t,n){let r=p.default.parse(n.body);const i=r.composeid,o=e[r.composeid];if(!o||0===o.length)return n;for(let e=0;e<o.length;e++){const t=o[e],n=l.default.fromEvents(document,"inboxSDKcomposeRequestModified").filter((e=>{let{detail:n}=e;return n.composeid===i&&n.modifierId===t})).take(1).map((e=>{let{detail:t}=e;return t.composeParams})).toPromise(Promise);O({type:"inboxSDKmodifyComposeRequest",composeid:i,modifierId:t,composeParams:{body:r.body,isPlainText:"1"!==r.ishtml}});let s=await n;r=Object.assign({},r,s)}return Object.assign({},n,{body:j(r)})},afterListeners:function(t){if(200===t.status&&(O({type:"emailSent",responseText:t.originalResponseText,originalSendBody:t.originalSendBody}),t.originalSendBody)){const n=p.default.parse(t.originalSendBody);delete e[n.composeid]}}}),r.push({isRelevantTo:function(e){return"sd"===e.params.act},originalSendBodyLogger:function(e,t){O({type:"emailDraftSaveSending",body:t})},afterListeners:function(e){200===e.status&&O({type:"emailDraftReceived",responseText:e.originalResponseText,originalSendBody:e.originalSendBody,connectionDetails:{method:e.method,url:e.url,params:e.params,responseType:e.responseType}})}});{const t=new WeakMap,r=new WeakMap,i=new WeakMap;n.push({isRelevantTo:e=>/sync(?:\/u\/\d+)?\/i\/s/.test(e.url),originalSendBodyLogger(e){if(e.originalSendBody){const n=(0,w.parseComposeRequestBody)(e.originalSendBody);if(!n)return;const{draftID:o}=n;switch(n.type){case"FIRST_DRAFT_SAVE":i.set(e,o);break;case"DRAFT_SAVE":r.set(e,o);break;case"SEND":t.set(e,o),O({type:"emailSending",draftID:o})}}},requestChanger:async function(t,n){const r=(0,w.parseComposeRequestBody)(n.body);if(!r||"SEND"!==r.type)return n;const{draftID:i,body:o,type:s}=r,a=e[i];if(!a||0===a.length)return n;let u=r.body;for(let e=0;e<a.length;e++){const t=a[e],n=l.default.fromEvents(document,"inboxSDKcomposeRequestModified").filter((e=>{let{detail:n}=e;return n.draftID===i&&n.modifierId===t})).take(1).map((e=>{let{detail:t}=e;return t.composeParams})).toPromise(Promise);O({type:"inboxSDKmodifyComposeRequest",draftID:i,modifierId:t,composeParams:{body:u,isPlainText:!1}});u=(await n).body}return Object.assign({},n,{body:(0,w.replaceBodyContentInComposeSendRequestBody)(n.body,u)})},afterListeners(e){if(t.has(e)||r.has(e)||i.has(e)){const _=()=>{O({type:"emailSendFailed",draftID:y}),t.delete(e)},y=t.get(e)||r.get(e)||i.get(e);if(200!==e.status||!e.originalResponseText)return void _();try{const n=(0,w.parseComposeResponseBody)(e.originalResponseText);for(const o of n)if(!y||o.messageId.endsWith(y)){if("FIRST_DRAFT_SAVE"===o.type||"DRAFT_SAVE"===o.type)return O({draftID:y,type:"emailDraftReceived",rfcID:o.rfcID,threadID:o.threadId,messageID:o.messageId,oldMessageID:o.oldMessageId,oldThreadID:o.oldThreadId}),t.delete(e),r.delete(e),void i.delete(e);if("SEND"===o.type)return O({draftID:y,type:"emailSent",rfcID:o.rfcID,threadID:o.threadId,messageID:o.messageId,oldMessageID:o.oldMessageId,oldThreadID:o.oldThreadId}),t.delete(e),r.delete(e),void i.delete(e)}}catch(e){f.eventSdkPassive("connection.requestResponseParsingFailed",{responseParseError:e})}const m=JSON.parse(e.originalResponseText);if(i.has(e)){const e=m[2]&&m[2][6]&&m[2][6][0]&&m[2][6][0][1];if(e){const t=e[3]&&e[3][7]&&e[3][7][1],n=t&&t[5]&&t[5][0];t&&n?O({draftID:y,type:"emailDraftReceived",rfcID:n[14],threadID:t[4].split("|")[0],messageID:n[1],oldMessageID:n[56],oldThreadID:t[20]}):f.error(new Error("Could not parse draft save"))}else{f.eventSdkPassive("old compose draft id handling hit");const e=m[2]&&m[2][6]&&m[2][6][1]&&m[2][6][1][1];if(e){const t=e[3]&&e[3][1]&&e[3][1][1];t&&O({draftID:y,type:"emailDraftReceived",rfcID:t[14],messageID:t[1],oldMessageID:t[48]?new c.default(t[48]).toString(16):t[56],syncThreadID:e[1]})}}}else{var n,o,s,a;const r=null===(n=m[2])||void 0===n?void 0:n[6];if(!r)return void _();const i=r.find((e=>{var t,n,r,i,o,s;return(null===(t=e[1])||void 0===t||null===(n=t[3])||void 0===n||null===(r=n[7])||void 0===r||null===(i=r[1])||void 0===i||null===(o=i[5])||void 0===o||null===(s=o[0])||void 0===s?void 0:s[14])&&e[1][3][7][1][5].find((e=>(0,u.default)(e[1],y)))}));if(!i){if(t.has(e)){const e=r.filter((e=>{var t,n,r;return null===(t=e[1])||void 0===t||null===(n=t[3])||void 0===n||null===(r=n[5])||void 0===r?void 0:r[3]}));if(e.length>0){var l,h,p,d;const t=e[0][1][1]?e[0][1][1].replace(/\|.*$/,""):void 0;O({draftID:y,type:"emailSent",threadID:t,messageID:(null===(l=e[0][1][3])||void 0===l||null===(h=l[5])||void 0===h||null===(p=h[5])||void 0===p?void 0:p[0])||(null===(d=e[0][1][3][5][3])||void 0===d?void 0:d[0])})}else _()}else _();return}const v=null===(o=i[1])||void 0===o||null===(s=o[3])||void 0===s||null===(a=s[7])||void 0===a?void 0:a[1],g=v[5].find((e=>e[1].includes(y)));if(!g)return void _();const b=t.has(e);Array.isArray(g[11])?b&&g[11].indexOf("^r")>=0&&f.error(new Error('sendUpdate[11] unexpectedly contained "^r"')):f.error(new Error("sendUpdate[11] was not an array")),b&&void 0!==g[22]&&3!==g[22]&&f.error(new Error("sendUpdate[22] was not expected value"),{value:g[22]});const w=v[4]?v[4].replace(/\|.*$/,""):void 0;O({draftID:y,type:b?"emailSent":"emailDraftReceived",rfcID:g[14],messageID:g[1],oldMessageID:g[48]?new c.default(g[48]).toString(16):g[56],threadID:w,oldThreadID:null!=v[18]?new c.default(v[18]).toString(16):v[20]})}t.delete(e),r.delete(e),i.delete(e)}}})}}r.push({isRelevantTo:e=>!!e.params.search&&"tl"===e.params.view,responseTextChanger:async(e,t)=>t,originalResponseTextLogger(e){if(200===e.status){e.params.search;const t=e.originalResponseText;d.processThreadListResponse(t)}}}),r.push({isRelevantTo:e=>"cv"===e.params.view,originalResponseTextLogger(e){if(200===e.status){const t=y.extractMessages(e.originalResponseText);_.add(t)}}}),n.push({isRelevantTo:function(e){return/sync(?:\/u\/\d+)?\/i\/bv/.test(e.url)},originalResponseTextLogger(e){if(200===e.status){const t=m.extractThreadsFromSearchResponse(e.originalResponseText);_.add(t.map((e=>({threadID:e.syncThreadID,messages:e.extraMetaData.syncMessageData.map((e=>({date:e.date,recipients:e.recipients})))}))))}}}),n.push({isRelevantTo:function(e){return/sync(?:\/u\/\d+)?\/i\/fd/.test(e.url)},originalResponseTextLogger(e){if(200===e.status){const t=m.extractThreadsFromThreadResponse(e.originalResponseText);_.add(t.map((e=>({threadID:e.syncThreadID,messages:e.extraMetaData.syncMessageData.map((e=>({date:e.date,recipients:e.recipients})))}))))}}});{const e=Object.create(null);let t,r,i;document.addEventListener("inboxSDKregisterSuggestionsModifier",(function(t){let{detail:n}=t;e[n.providerID]={position:Object.keys(e).length}})),document.addEventListener("inboxSDKprovideSuggestions",(function(n){let{detail:s}=n;if(s.query===t){const n=e[s.providerID];if(!n)throw new Error("provider does not exist for providerID");if(null==r)throw new Error("tried to modified a null suggestionModifications");if(r[n.position]=s.suggestions,r.filter(Boolean).length===Object.keys(e).length){if(null==i)throw new Error("tried to resolve a null currentQueryDefer");i.resolve((0,o.default)(r)),i=t=r=null}}})),n.push({isRelevantTo:t=>Object.keys(e).length>0&&!!t.url.match(/^\/cloudsearch\/request\?/)&&"gmail"==t.params.client&&"gmail"==t.params.gs_ri,originalSendBodyLogger(e,n){const o=p.default.parse(n);if(!o.request)return;const s=JSON.parse(o.request)[2];s&&(t=s,i&&i.resolve(),i=e._defer=(0,g.default)(),r=[],O({type:"suggestionsRequest",query:t}))},async responseTextChanger(e,t){if(e._defer&&200===e.status){const n=await e._defer.promise;if(n)return(0,b.default)(t,n)}return t}})}{const e=[];let t;document.addEventListener("inboxSDKcreateCustomSearchTerm",(function(t){e.push(t.detail.term)})),document.addEventListener("inboxSDKsearchReplacementReady",(function(e){t.query===e.detail.query&&t.newQuery.resolve(e.detail.newQuery)})),r.push({isRelevantTo:function(n){let r;const i=n.params;return!!("POST"===n.method&&i.search&&"tl"===i.view&&n.url.match(/^\?/)&&i.q&&(r=(0,a.default)(e,(0,v.default)(i.q))[0]))&&(t&&t.query===i.q&&t.start!=i.start?(n._queryReplacement=t,t.start=i.start):(t&&t.newQuery.resolve(t.query),t=n._queryReplacement={term:r,query:i.q,start:i.start,newQuery:(0,g.default)()},O({type:"searchQueryForReplacement",term:r,query:i.q})),!0)},requestChanger:function(e,t){return e._queryReplacement.newQuery.promise.then((function(n){let r=(0,i.default)(e.params);return r.q=n,{method:t.method,url:"?"+(0,p.stringify)(r),body:t.body}}))}}),n.push({isRelevantTo:function(e){return"POST"===e.method&&/sync(?:\/u\/\d+)?\/i\/bv/.test(e.url)},requestChanger:function(n,r){let i;const o=JSON.parse(r.body);let s,u,c,l=!1;Array.isArray(o)?(l=!0,s=o[0],u=s[3],c=s[9]):(s=o[1],u=s[4],c=s[10]);return 79===s[l?0:1]&&"string"==typeof u&&(i=(0,a.default)(e,(0,v.default)(u))[0])?(t&&t.query===u&&t.start!=c?(n._queryReplacement=t,t.start=c):(t&&t.newQuery.resolve(t.query),t=n._queryReplacement={term:i,query:u,start:c,newQuery:(0,g.default)()},O({type:"searchQueryForReplacement",term:i,query:u})),n._queryReplacement.newQuery.promise.then((function(e){return l?o[0][3]=e:o[1][4]=e,{method:r.method,url:r.url,body:JSON.stringify(o)}}))):Promise.resolve(r)}})}{const e=[];let t;document.addEventListener("inboxSDKcustomListRegisterQuery",(t=>{e.push(t.detail.query)})),document.addEventListener("inboxSDKcustomListNewQuery",(e=>{if(t.query===e.detail.query&&t.start===e.detail.start){const{newQuery:n,newStart:r}=e.detail;t.newRequestParams.resolve({query:n,start:r})}})),document.addEventListener("inboxSDKcustomListResults",(e=>{t.query===e.detail.query&&t.newResults.resolve(e.detail.newResults)})),r.push({isRelevantTo:function(n){let r;const i=n.params;return!!("POST"===n.method&&i.search&&"tl"===i.view&&n.url.match(/^\?/)&&i.q&&!i.act&&(r=(0,s.default)(e,(e=>e===i.q))))&&(t&&(t.newRequestParams.resolve({query:t.query,start:t.start}),t.newResults.resolve(null)),t=n._customListJob={query:i.q,start:+i.start,newRequestParams:(0,g.default)(),newResults:(0,g.default)()},O({type:"searchForReplacement",query:t.query,start:t.start}),!0)},requestChanger:function(e,t){return e._customListJob.newRequestParams.promise.then((n=>{let{query:r,start:o}=n;const s=(0,i.default)(e.params);return s.q=r,s.start=o,{method:t.method,url:"?"+(0,p.stringify)(s),body:t.body}}))},responseTextChanger:function(e,t){return O({type:"searchResultsResponse",query:e._customListJob.query,start:e._customListJob.start,response:t}),e._customListJob.newResults.promise.then((e=>null===e?t:e))}}),n.push({isRelevantTo:function(e){return!!/sync(?:\/u\/\d+)?\/i\/bv/.test(e.url)&&(t&&(t.newRequestParams.resolve({query:t.query,start:t.start}),t.newResults.resolve(null)),!0)},requestChanger:async function(n,r){if(r.body){const i=JSON.parse(r.body),o=Array.isArray(i),a=(o?i&&i[0]&&i[0][3]:i&&i[1]&&i[1][4])||"";if((0,s.default)(e,(e=>e===a)))return t=n._customListJob={query:a,start:o?i[0][9]:i[1][10],newRequestParams:(0,g.default)(),newResults:(0,g.default)()},O({type:"searchForReplacement",query:t.query,start:t.start}),n._customListJob.newRequestParams.promise.then((e=>{let{query:t,start:n}=e;return o?(i[0][3]=t,i[0][9]=n):(i[1][4]=t,i[1][10]=n),{method:r.method,url:r.url,body:JSON.stringify(i)}}))}return r},responseTextChanger:async function(e,t){return e._customListJob?(O({type:"searchResultsResponse",query:e._customListJob.query,start:e._customListJob.start,response:t}),e._customListJob.newResults.promise.then((e=>null===e?t:e))):t}})}{const e=e=>{document.head.setAttribute("data-inboxsdk-btai-header",e),O({type:"btaiHeaderReceived"})};n.push({isRelevantTo:e=>/sync(?:\/u\/\d+)?\//.test(e.url)&&!document.head.hasAttribute("data-inboxsdk-btai-header"),originalSendBodyLogger(t){t.headers["X-Gmail-BTAI"]&&e(t.headers["X-Gmail-BTAI"])}});const t=e=>{document.head.setAttribute("data-inboxsdk-xsrf-token",e),O({type:"xsrfTokenHeaderReceived"})};n.push({isRelevantTo:e=>/sync(?:\/u\/\d+)?\//.test(e.url)&&!document.head.hasAttribute("data-inboxsdk-xsrf-token"),originalSendBodyLogger(e){e.headers["X-Framework-Xsrf-Token"]&&t(e.headers["X-Framework-Xsrf-Token"])}})}}function O(e){document.dispatchEvent(new CustomEvent("inboxSDKajaxIntercept",{bubbles:!0,cancelable:!1,detail:e}))}function j(e){const t=(0,i.default)(e),n=`=${T(t.to,"to")}&=${T(t.cc,"cc")}&=${T(t.bcc,"bcc")}`;return delete t.to,delete t.bcc,delete t.cc,n+"&"+p.default.stringify(t)}function T(e,t){let n="";if(Array.isArray(e))for(let r=0;r<e.length;r++)n+=`&${t}=${encodeURIComponent(e[r])}`;else n+=`&${t}=${encodeURIComponent(e)}`;return n}},{"../../common/defer":255,"../../common/quoted-split":258,"../../platform-implementation-js/dom-driver/gmail/gmail-response-processor":286,"../../platform-implementation-js/dom-driver/gmail/gmail-sync-response-processor":287,"../injected-logger":274,"../message-metadata-holder":276,"../xhr-proxy-factory":284,"./modify-suggestions":261,"./sync-compose-processor":265,"./thread-identifier":268,"@babel/runtime/helpers/interopRequireDefault":5,"bignumber.js":19,kefir:29,"lodash/clone":189,"lodash/find":195,"lodash/flatten":197,"lodash/includes":203,"lodash/intersection":204,querystring:242}],263:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=new Promise((e=>{function t(){window.gmonkey?window.gmonkey.load("2.0",e):setTimeout(t,500)}t()}));document.addEventListener("inboxSDKtellMeIsConversationViewDisabled",(function(){e.then((e=>{const t=e.isConversationViewDisabled(),n=document.createEvent("CustomEvent");n.initCustomEvent("inboxSDKgmonkeyResponse",!1,!1,t),document.dispatchEvent(n)}))})),document.addEventListener("inboxSDKtellMeCurrentThreadId",(function(e){let t;if(e.detail.isPreviewedThread){const e=Array.from(document.querySelectorAll("[gh=tl] tr.aps"));if(e.length>0){const n=e.map((e=>e.querySelector("[data-thread-id]"))).filter(Boolean)[0];t=n?n.getAttribute("data-thread-id"):e[0].getAttribute("data-inboxsdk-threadid")}}else{var n,r,i,o;t=null===(n=window.gmonkey)||void 0===n||null===(r=n.v2)||void 0===r||null===(i=r.getCurrentThread)||void 0===i||null===(o=i.call(r))||void 0===o?void 0:o.getThreadId()}t&&(t=t.replace("#",""),e.target.setAttribute("data-inboxsdk-currentthreadid",t))}))}},{}],264:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.actionsToComposeRequestType=v,n.parseComposeRequestBody_2022_09_09=function(e){return c(e)},n.parseComposeResponseBody_2022_09_09=function(e){return function(e){var t;const n=null===(t=e[1])||void 0===t?void 0:t[5];if(!Array.isArray(n))return[];return n.map(m).filter(s.default).flatMap((e=>{const{threadId:t,oldThreadId:n,parsedMessages:r}=e;return r.map((e=>{const{messageId:r,to:i,cc:o,bcc:s,actions:a,rfcID:u,oldMessageId:c}=e,l=v(a);return l?{threadId:t,messageId:r,to:i,cc:o,bcc:s,actions:a,rfcID:u,oldMessageId:c,oldThreadId:n,type:l}:null}))})).filter(s.default)}(e)},n.replaceBodyContentInComposeSendRequestBody_2022_09_09=function(e,t){return function(e,t){var n;const r=c(e);if(!r)return null;const i=r.messageId,o=null===(n=e[1])||void 0===n?void 0:n[0];if(!Array.isArray(o))return null;for(const n of o){if(!Array.isArray(n)||!Array.isArray(n[1]))return null;const r=n[1];if(!l(r[0]))return null;const o=p(r);if((null==o?void 0:o.parsedMsg.messageId)===i){if("SEND"===v(o.parsedMsg.actions))return y(o.originalMsg,t),e}}return null}(e,t)};var i=r(e("lodash/sortBy")),o=r(e("lodash/intersection")),s=r(e("../../platform-implementation-js/lib/isNotNil")),a=e("./constants");const u=["SEND","DRAFT_SAVE"];function c(e){var t;const n=null===(t=e[1])||void 0===t?void 0:t[0];if(!Array.isArray(n))return null;const r=n.map(d).filter(s.default);return(0,i.default)(r,(e=>u.indexOf(e.type)))[0]||null}function l(e){return e.startsWith("thread-")?e.includes("|")?e.split("|")[0]:e:null}function f(e){return e.startsWith("msg-")?e:null}function h(e){return Array.isArray(e)?e.filter((e=>!!e[1])).map((e=>({emailAddress:e[1],name:e[2]??null}))):null}function p(e){var t,n,r,i,o,s,a,u;const c=[null===(t=e[1])||void 0===t||null===(n=t[2])||void 0===n||null===(r=n[0])||void 0===r||null===(i=r[4])||void 0===i?void 0:i[0],null===(o=e[1])||void 0===o||null===(s=o[1])||void 0===s?void 0:s[0],null===(a=e[1])||void 0===a||null===(u=a[13])||void 0===u?void 0:u[0]];for(const e of c){const t=_(e);if(t)return{parsedMsg:t,originalMsg:e}}return null}function d(e){var t,n,r,i,o,s;if(!Array.isArray(e)||!Array.isArray(e[1]))return null;const a=e[1],u=l(a[0]);if(!u)return null;const c=p(a);if(!c)return null;const{parsedMsg:f,originalMsg:h}=c,{messageId:d,to:_,cc:y,bcc:m,subject:g,body:b,actions:w}=f;let x=v(w);return x?("DRAFT_SAVE"!==x||h!==(null===(t=a[1])||void 0===t||null===(n=t[2])||void 0===n||null===(r=n[0])||void 0===r||null===(i=r[4])||void 0===i?void 0:i[0])&&h!==(null===(o=a[1])||void 0===o||null===(s=o[1])||void 0===s?void 0:s[0])||(x="FIRST_DRAFT_SAVE"),{threadId:u,messageId:d,to:_,cc:y,bcc:m,subject:g,body:b,actions:w,type:x}):null}function _(e){if(!Array.isArray(e))return null;const t=f(e[0]);if(!t)return null;const n=e[7];return{messageId:t,to:h(e[2]),cc:h(e[3]),bcc:h(e[4]),subject:n,body:e[8][1][0][1],actions:e[10],rfcID:e[13],oldMessageId:e[55]}}function y(e,t){if(!Array.isArray(e))return null;e[8][1][0][1]=t}function m(e){var t,n;if(!Array.isArray(e)||!Array.isArray(e[0]))return null;const r=e[0],i=l(r[0]);if(!i)return null;const o=null===(t=r[2])||void 0===t||null===(n=t[6])||void 0===n?void 0:n[0];if(!Array.isArray(o))return null;return{threadId:i,oldThreadId:o[19],parsedMessages:Array.isArray(o[4])?o[4].map((e=>Array.isArray(e)?function(e){if(!Array.isArray(e))return null;const t=f(e[0]);if(!t)return null;const n=e[10],r=h(e[2]),i=h(e[3]),o=h(e[4]),s=e[13],a=e[55];return{messageId:t,to:r,cc:i,bcc:o,actions:n,rfcID:s,oldMessageId:a}}(e):null)).filter(s.default):[]}}function v(e){return(0,o.default)(e,a.DRAFT_SAVING_ACTIONS).length===a.DRAFT_SAVING_ACTIONS.length?"DRAFT_SAVE":(0,o.default)(e,a.SEND_ACTIONS).length===a.SEND_ACTIONS.length?"SEND":null}},{"../../platform-implementation-js/lib/isNotNil":294,"./constants":260,"@babel/runtime/helpers/interopRequireDefault":5,"lodash/intersection":204,"lodash/sortBy":226}],265:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseComposeRequestBody=function(e){const t=JSON.parse(e);try{if(Array.isArray(t)){const e=(0,r.parseComposeRequestBody_2022_09_09)(t);return e?{type:e.type,to:e.to,cc:e.cc,bcc:e.bcc,draftID:e.messageId.replace("msg-a:",""),subject:e.subject,body:e.body}:null}}catch(e){o.eventSdkPassive("connection.requestResponseParsingFailed",{requestParseError:e})}return(0,i.getDetailsOfComposeRequest)(t)},n.parseComposeResponseBody=function(e){const t=JSON.parse(e);if(Array.isArray(t))return(0,r.parseComposeResponseBody_2022_09_09)(t);return[]},n.replaceBodyContentInComposeSendRequestBody=function(e,t){const n=JSON.parse(e);try{if(Array.isArray(n)){const i=(0,r.replaceBodyContentInComposeSendRequestBody_2022_09_09)(n,t);return i?JSON.stringify(i):e}}catch(e){o.eventSdkPassive("connection.requestResponseParsingFailed",{replaceBodyFailed:e})}return(0,i.replaceEmailBodyForSendRequest)(e,t)};var r=e("./sync-compose-processor-20220909"),i=e("./sync-compose-request-processor"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("../injected-logger"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},{"../injected-logger":274,"./sync-compose-processor-20220909":264,"./sync-compose-request-processor":266}],266:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.getDetailsOfComposeRequest=function(e){const t=e[2]&&e[2][1];if(!t)return null;const n=t.filter((e=>{const t=e[2]&&e[2][2]&&(e[2][2][14]||e[2][2][2]);return t&&t[1]&&t[1][1]&&t[1][1].indexOf("msg-a:")>-1}));if(n.length){const e=n.find((e=>{const t=e[2]&&e[2][2]&&(e[2][2][14]||e[2][2][2]);return t[1][11]&&(0,i.default)(t[1][11],o.SEND_ACTIONS).length===o.SEND_ACTIONS.length}));if(e){return s((e[2]&&e[2][2]&&(e[2][2][14]||e[2][2][2]))[1],"SEND")}{const e=n[0];return s((e[2]&&e[2][2]&&(e[2][2][14]||e[2][2][2]))[1],"DRAFT_SAVE")}}{const e=t.map((e=>e[2]&&e[2][2]&&e[2][2][3]&&e[2][2][3][1]&&e[2][2][3][1][5]&&e[2][2][3][1][5][0])).filter(Boolean);if(0===e.length)return null;return s(e[0],"FIRST_DRAFT_SAVE")}},n.replaceEmailBodyForSendRequest=function(e,t){if(!t)return e;const n=JSON.parse(e),r=n[2]&&n[2][1];if(!r)return e;const s=r.filter((e=>{const t=e[2]&&e[2][2]&&(e[2][2][14]||e[2][2][2]);return t&&t[1]&&t[1][1]&&t[1][1].indexOf("msg-a:")>-1}));if(!s.length)return e;const a=s.find((e=>{const t=e[2]&&e[2][2]&&(e[2][2][14]||e[2][2][2]);return t[1][11]&&(0,i.default)(t[1][11],o.SEND_ACTIONS).length===o.SEND_ACTIONS.length}));if(!a)return e;const u=a[2]&&a[2][2]&&(a[2][2][14]||a[2][2][2]);return u[1][9][2][0][2]=t,JSON.stringify(n)};var i=r(e("lodash/intersection")),o=e("./constants");function s(e,t){const n=e[9]&&e[9][2]&&e[9][2][0]&&e[9][2][0][2];return null==n?null:{body:n,type:t,to:a(e[3]),cc:a(e[4]),bcc:a(e[5]),draftID:e[1].replace("msg-a:",""),subject:e[8]}}function a(e){return Array.isArray(e)?e.map((e=>({emailAddress:e[2],name:e[3]||null}))):null}},{"./constants":260,"@babel/runtime/helpers/interopRequireDefault":5,"lodash/intersection":204}],267:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=document.createEvent("MouseEvents"),n={bubbles:!0,cancelable:!0,button:0,pointerX:0,pointerY:0,ctrlKey:!0,altKey:!1,shiftKey:!1,metaKey:!0};let r;t.initMouseEvent("click",n.bubbles,n.cancelable,document.defaultView,n.button,n.pointerX,n.pointerY,n.pointerX,n.pointerY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,null);const i=window.open,a=window.onerror,l=c(window.HTMLElement.prototype,"focus"),f=c(window.HTMLElement.prototype,"blur");try{window.HTMLElement.prototype.focus=o.default,window.HTMLElement.prototype.blur=o.default,window.onerror=u;const n=function(e,t,n){r=e;const i={closed:!1,focus:o.default};return setTimeout((function(){i.closed=!0}),5),i};if(window.open=n,window.open!==n)return s.error(new Error("Failed to override window.open")),null;e.dispatchEvent(t)}finally{l?window.HTMLElement.prototype.focus=l:delete window.HTMLElement.prototype.focus,f?window.HTMLElement.prototype.blur=f:delete window.HTMLElement.prototype.blur,window.onerror=a,window.open=i}return r};var i=r(e("lodash/constant")),o=r(e("lodash/noop")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("../../injected-logger"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}const u=(0,i.default)(!0);function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:null}},{"../../injected-logger":274,"@babel/runtime/helpers/interopRequireDefault":5,"lodash/constant":190,"lodash/noop":223}],268:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.processThreadListResponse=function(e){p(o.extractThreads(e))},n.setup=function(){try{!function(){const e=(0,i.default)(document.querySelectorAll("script:not([src])"),(e=>e.text&&e.text.slice(0,500).indexOf("var VIEW_DATA=[[")>-1));if(!e)return;{const t=e.text.indexOf("["),n=e.text.lastIndexOf("]"),r=e.text.slice(t,n+1);p(o.extractThreadsFromDeserialized([o.deserializeArray(r)]))}}()}catch(e){a.error(e,"Failed to process preloaded thread identifiers")}document.addEventListener("inboxSDKtellMeThisThreadIdByDatabase",(function(e){try{const t=function(e){const t=m(u.extractMetadataFromThreadRow(e)),n=_.get(t);if("string"==typeof n)return n}(e.target);t&&e.target.setAttribute("data-inboxsdk-threadid",t)}catch(e){a.error(e,"Error in inboxSDKtellMeThisThreadIdByDatabase")}})),document.addEventListener("inboxSDKtellMeThisThreadIdByClick",(function(e){try{const t=function(e){u.extractMetadataFromThreadRow(e);const t=(0,l.default)(e,(e=>"DIV"===e.nodeName&&"main"===e.getAttribute("role")));if(!t)throw new Error("Can't operate on disconnected thread row");const n=t.querySelector("td.PE")||t.querySelector("tr"),r=(0,c.default)(e),i=r&&function(e){var t=(0,s.parse)(e).th;if(!t){var n=e.match(/#(.*)/);n&&(e=decodeURIComponent(decodeURIComponent(n[1])),t=(0,s.parse)(e).th)}return t.replace("#","")}(r);n&&(0,c.default)(n);return i}(e.target);t&&e.target.setAttribute("data-inboxsdk-threadid",t)}catch(e){a.error(e,"Error in inboxSDKtellMeThisThreadIdByClick")}}))};var i=r(e("lodash/find")),o=h(e("../../../platform-implementation-js/dom-driver/gmail/gmail-response-processor")),s=e("querystring"),a=h(e("../../injected-logger")),u=h(e("./thread-row-parser")),c=r(e("./click-and-get-popup-url")),l=r(e("../../../common/find-parent"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function p(e){e.forEach(y)}const d={name:"AMBIGUOUS"},_=new Map;function y(e){var t=m(e);_.has(t)?_.get(t)!==e.gmailThreadId&&_.set(t,d):_.set(t,e.gmailThreadId)}function m(e){return e.subject.trim()+":"+e.timeString.trim()+":"+e.peopleHtml.trim()}},{"../../../common/find-parent":256,"../../../platform-implementation-js/dom-driver/gmail/gmail-response-processor":286,"../../injected-logger":274,"./click-and-get-popup-url":267,"./thread-row-parser":269,"@babel/runtime/helpers/interopRequireDefault":5,"lodash/find":195,querystring:242}],269:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.extractMetadataFromThreadRow=function(e){var t,n,r;(0,o.default)(e.hasAttribute("id"),"check element is main thread row");var u=[];if(2===(0,i.default)(Array.from(e.classList),["zA","apv"]).length){var c=e.nextElementSibling;if(c){var l=c.nextElementSibling;l&&l.classList.contains("apw")||(l=null),t=e.querySelector("td.apt > div.apm > span[title]"),n=c.querySelector("td div.xS div.xT div.y6 > span"),r=e.querySelector("td.apy > div.yW, td.apx > div.yW")}else u.push("failed to find threadRow2")}else{t=e.querySelector("td.xW > span[title]");var f=e.querySelector("td.a4W div[role=link] div.y6");f&&f.children.length>=1&&(n=f.children[0]),r=e.querySelector("td.yX > div.yW")}t||u.push("failed to find timeSpan");n||u.push("failed to find subjectSpan");r||u.push("failed to find peopleDiv");u.length&&s.error(new Error("Errors in thread row parsing"),{errors:u});return{timeString:t&&t.getAttribute("title")||"",subject:n?n.textContent:"",peopleHtml:r?(0,a.cleanupPeopleLine)(r.innerHTML):""}};var i=r(e("lodash/intersection")),o=r(e("assert")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("../../injected-logger")),a=e("../../../platform-implementation-js/dom-driver/gmail/gmail-response-processor");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},{"../../../platform-implementation-js/dom-driver/gmail/gmail-response-processor":286,"../../injected-logger":274,"@babel/runtime/helpers/interopRequireDefault":5,assert:16,"lodash/intersection":204}],270:[function(e,t,n){(function(t){(function(){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=[];t.XMLHttpRequest=(0,a.default)(t.XMLHttpRequest,e,{logError:c});{let t;e.push({isRelevantTo:e=>!!/sync(?:\/u\/\d+)?\/suggest/.test(e.url)&&(t=e,!0),afterListeners(e){if(200===e.status&&e.originalSendBody&&e===t){const t=JSON.parse(e.originalSendBody),n=t[Object.keys(t).find((e=>"1"!==e))],r=1===Object.keys(n).length&&n[1];r&&l({type:"searchSuggestionsReceieved",query:r})}}})}{let t=!1,n=[];document.addEventListener("inboxSDKcomposeViewIsSending",(()=>{t=!0,n=[]})),document.addEventListener("inboxSDKcomposeViewSendCanceled",(()=>{t=!1,n=[]}));const r=e=>{t&&(n.push(e),n.length<3||(s.error(new Error("Failed to identify outgoing send request"),{requestPayloadList:(0,o.default)(n)}),t=!1,n=[]))},a=["^pfg","^f_bt","^f_btns","^f_cl"],u=new WeakMap;e.push({isRelevantTo:e=>/sync(?:\/u\/\d+)?\/i\/s/.test(e.url),originalSendBodyLogger(e){if(e.originalSendBody){const o=JSON.parse(e.originalSendBody),s=o[2]&&o[2][1];if(!s)return void r(o);const c=s.find((e=>{const t=e[2]&&e[2][2]&&(e[2][2][14]||e[2][2][2]);return t&&t[1]&&t[1][1]&&t[1][1].indexOf("msg-a:")>-1&&t[1][11]&&(0,i.default)(t[1][11],a).length===a.length}));if(!c)return void r(o);const f=(c[2]&&c[2][2]&&(c[2][2][14]||c[2][2][2]))[1],h=f[1].replace("msg-a:","");f[11];u.set(e,h),l({type:"emailSending",draftID:h}),t=!1,n=[]}},afterListeners(e){if(u.has(e)){const t=()=>{l({type:"emailSendFailed",draftID:n}),u.delete(e)},n=u.get(e);if(200!==e.status||!e.originalResponseText)return void t();const r=JSON.parse(e.originalResponseText),i=r[2]&&r[2][6];if(!i)return void t();const o=i.find((e=>e[1]&&e[1][3]&&e[1][3][7]&&e[1][3][7][1]&&e[1][3][7][1][5]&&e[1][3][7][1][5][0]&&e[1][3][7][1][5][0][14]));if(!o)return void t();l({type:"emailSent",rfcID:(o[1]&&o[1][3]&&o[1][3][7]&&o[1][3][7][1]&&o[1][3][7][1][5]&&o[1][3][7][1][5][0])[14],draftID:n}),u.delete(e)}}})}{const t=e=>{document.head.setAttribute("data-inboxsdk-btai-header",e),l({type:"btaiHeaderReceived"})};e.push({isRelevantTo:e=>/sync(?:\/u\/\d+)?\//.test(e.url)&&!document.head.hasAttribute("data-inboxsdk-btai-header"),originalSendBodyLogger(e){e.headers["X-Gmail-BTAI"]&&t(e.headers["X-Gmail-BTAI"])}});const n=e=>{document.head.setAttribute("data-inboxsdk-xsrf-token",e),l({type:"xsrfTokenHeaderReceived"})};e.push({isRelevantTo:e=>/sync(?:\/u\/\d+)?\//.test(e.url)&&!document.head.hasAttribute("data-inboxsdk-xsrf-token"),originalSendBodyLogger(e){e.headers["X-Framework-Xsrf-Token"]&&n(e.headers["X-Framework-Xsrf-Token"])}})}};var i=r(e("lodash/intersection")),o=r(e("../../common/censorJSONTree")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("../injected-logger")),a=r(e("../xhr-proxy-factory"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){"XMLHttpRequest event listener error"!==t?s.error(e,t):setTimeout((function(){throw e}),1)}function l(e){document.dispatchEvent(new CustomEvent("inboxSDKajaxIntercept",{bubbles:!0,cancelable:!1,detail:e}))}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../common/censorJSONTree":254,"../injected-logger":274,"../xhr-proxy-factory":284,"@babel/runtime/helpers/interopRequireDefault":5,"lodash/intersection":204}],271:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){(0,a.default)(document.body).filter((e=>{let{el:t}=e;return"IFRAME"===t.nodeName&&!t.hasAttribute("src")})).onValue((e=>{let{el:t}=e;t.contentDocument.addEventListener("inboxSDKclickAndGetNewIframeSrc",(function(e){(function(e){const t=l.merge(o.default.later(1e4,null)).take(1).flatMap((e=>e?o.default.constant(e):o.default.constantError(new Error("timed out waiting for iframe src set")))).toPromise();return(0,s.simulateClick)(e),t})(e.target).then((t=>{e.target.dispatchEvent(new CustomEvent("inboxSDKclickAndGetNewIframeSrcResult",{bubbles:!1,cancelable:!1,detail:{type:"success",src:t}}))})).catch((t=>{e.target.dispatchEvent(new CustomEvent("inboxSDKclickAndGetNewIframeSrcResult",{bubbles:!1,cancelable:!1,detail:{type:"error",message:t.message,stack:t.stack}}))}))}))}))};var i=r(e("lodash/once")),o=r(e("kefir")),s=e("../../platform-implementation-js/lib/dom/simulate-mouse-event"),a=r(e("../../platform-implementation-js/lib/dom/make-element-child-stream"));const u=(0,i.default)((()=>Object.getPrototypeOf(document.createElement("iframe")))),c=(0,i.default)((()=>Object.getOwnPropertyDescriptor(u(),"src"))),l=o.default.stream((e=>{const t=u(),n=c();return Object.defineProperty(t,"src",{enumerable:!0,configurable:!0,set(t){e.emit(t)}}),()=>{Object.defineProperty(t,"src",n)}}))},{"../../platform-implementation-js/lib/dom/make-element-child-stream":291,"../../platform-implementation-js/lib/dom/simulate-mouse-event":292,"@babel/runtime/helpers/interopRequireDefault":5,kefir:29,"lodash/once":224}],272:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){document.addEventListener("inboxSDKgetDraftIDforComposeView",(e=>{let{target:t}=e;const n=i(t);if(!n)throw new Error("could not retrieve draft ID for compose view");t.setAttribute("data-inboxsdk-draft-id",n)}),!0)};const r=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o=Object.keys(e);for(let s=0;s<o.length;s++){const a=e[o[s]];if(t(a))return a;if(i<=n&&a instanceof Object){const e=r(a,t,n,i+1);if(e)return e}}return null},i=e=>{const t=r(e.__cdn.context,(e=>"string"==typeof e&&e.indexOf("#msg-a:")>-1),3);return t?t.replace("#msg-a:",""):null}},{}],273:[function(e,t,n){"use strict";function r(){Object.defineProperty(document.documentElement,"clientWidth",{configurable:!0,value:window.innerWidth-1});{const e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)}Object.defineProperty(document.documentElement,"clientWidth",{configurable:!0,get:()=>window.innerWidth});{const e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){document.addEventListener("inboxSDKinboxFakeWindowResize",r)}},{}],274:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.error=function(e,t){e||(e=new Error("No error given"));console.error("Error in injected script",e,t);try{JSON.stringify(t)}catch(e){t="<failed to jsonify>"}const n={};for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))try{const r=e[t];JSON.stringify(r),n[t]=r}catch(e){}Object.keys(n).length>0&&(t={errorProperties:n,details:t});document.dispatchEvent(new CustomEvent("inboxSDKinjectedError",{bubbles:!1,cancelable:!1,detail:{message:e&&e.message,stack:e&&e.stack,details:t}}))},n.eventSdkPassive=function(e,t,n){try{JSON.stringify(t)}catch(e){t="<failed to jsonify>"}document.dispatchEvent(new CustomEvent("inboxSDKinjectedEventSdkPassive",{bubbles:!1,cancelable:!1,detail:{name:e,details:t,sensitive:n}}))}},{}],275:[function(e,t,n){(function(t){(function(){"use strict";if(!t.__InboxSDKInjected){t.__InboxSDKInjected=!0;const n=e("./injected-logger");let r;try{"undefined"!=typeof define&&define&&define.amd&&(r=define,define=null);const t=e("ext-corb-workaround/dist/src/pageWorld"),n=e("./xhr-helper").default,i=e("./setup-data-exposer").default,o=e("./setup-event-reemitter").default,s=e("./setup-error-silencer").default,a=e("./setupCustomViewEventAssassin").default,u=e("./setupPushStateListener").default,c=e("./setupInboxCustomViewLinkFixer").default,l=e("./gmail/setup-gmail-interceptor").default,f=e("./gmail/setup-gmonkey-handler").default,h=e("./inbox/setupClickAndGetNewIframeSrc").default,p=e("./inbox/setupInboxFakeWindowResizeListener").default,d=e("./inbox/setupComposeViewDraftIDFinder").default,_=e("./inbox/setupAjaxInterceptor").default,y=document.location.origin;if("https://mail.google.com"===y)l(),f();else{if("https://inbox.google.com"!==y)throw new Error("Should not happen");h(),p(),d(),_()}t.init(),n(),i(),o(),s(),a(),u(),c()}catch(e){n.error(e)}finally{r&&(define=r)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./gmail/setup-gmail-interceptor":262,"./gmail/setup-gmonkey-handler":263,"./inbox/setupAjaxInterceptor":270,"./inbox/setupClickAndGetNewIframeSrc":271,"./inbox/setupComposeViewDraftIDFinder":272,"./inbox/setupInboxFakeWindowResizeListener":273,"./injected-logger":274,"./setup-data-exposer":277,"./setup-error-silencer":278,"./setup-event-reemitter":279,"./setupCustomViewEventAssassin":280,"./setupInboxCustomViewLinkFixer":281,"./setupPushStateListener":282,"./xhr-helper":283,"ext-corb-workaround/dist/src/pageWorld":24}],276:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.add=p,n.setup=function(){document.addEventListener("inboxSDKtellMeThisMessageDate",(function(e){f(e,"data-inboxsdk-sortdate",(e=>e.date))})),document.addEventListener("inboxSDKtellMeThisMessageRecipients",(function(e){f(e,"data-inboxsdk-recipients",(e=>e.recipients?e.recipients:null))}))};r(e("querystring"));var i=r(e("lodash/startsWith")),o=e("../platform-implementation-js/dom-driver/gmail/gmail-response-processor"),s=e("../platform-implementation-js/dom-driver/gmail/gmail-driver/getSyncThreadFromSyncThreadId"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("./injected-logger")),u=r(e("../platform-implementation-js/driver-common/requestGmailThread"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const l=new Map;function f(e,t,n){const{target:r,detail:{threadId:c,ikValue:l,btaiHeader:f,xsrfToken:_}}=e;(async()=>{const e=Array.from(r.parentElement.children).filter((e=>!e.classList.contains("inboxsdk__custom_message_view"))).indexOf(r);if(e<0)throw new Error("Should not happen");let y=h(c,e);if(null==y||!y.recipients){try{await function(e,t,n,r){const c=d.get(e);if(c)return c;const l=(async()=>{try{if((0,i.default)(e,"thread")){if(!n||!r)throw new Error("Need btaiHeader and xsrfToken when in new data layer");const t=await(0,s.getThreadFromSyncThreadIdUsingHeaders)(e,n,r);t&&p([{threadID:t.syncThreadID,messages:t.extraMetaData.syncMessageData.map((e=>({date:e.date,recipients:e.recipients})))}])}else{const n=await(0,u.default)(t,e);p((0,o.extractMessages)(n))}}catch(e){a.error(e)}finally{d.delete(e)}})();return d.set(e,l),l}(c,l,f,_)}catch(e){a.error(e)}if(y=h(c,e),null==y)throw new Error("Failed to find message date after re-requesting thread")}r.setAttribute(t,JSON.stringify(n(y)))})().catch((e=>{r.setAttribute(t,"error"),a.error(e)}))}function h(e,t){const n=l.get(e);if(n){const e=n[t];if(e)return e}}function p(e){e.forEach((e=>{l.set(e.threadID,e.messages)}))}const d=new Map},{"../platform-implementation-js/dom-driver/gmail/gmail-driver/getSyncThreadFromSyncThreadId":285,"../platform-implementation-js/dom-driver/gmail/gmail-response-processor":286,"../platform-implementation-js/driver-common/requestGmailThread":290,"./injected-logger":274,"@babel/runtime/helpers/interopRequireDefault":5,"lodash/startsWith":227,querystring:242}],277:[function(e,t,n){(function(t){(function(){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){let e;(0,s.default)((()=>(e=function(){let e=t;try{if(e.GLOBALS)return e;t.opener&&t.opener.top&&(t.opener.top.location.href,e=t.opener.top)}catch(n){e=t}return e}(),e&&(e.GLOBALS||e.gbar)))).then((()=>{if(e){var t=e.GLOBALS?e.GLOBALS[10]:e.gbar._CONFIG[0][10][5];document.head.setAttribute("data-inboxsdk-user-email-address",t);var n=e.GLOBALS?e.GLOBALS[4].split(".")[1]:e.gbar._CONFIG[0][0][4];if(document.head.setAttribute("data-inboxsdk-user-language",n),document.head.setAttribute("data-inboxsdk-using-sync-api",e.GM_SPT_ENABLED),e.GLOBALS){document.head.setAttribute("data-inboxsdk-ik-value",e.GLOBALS[9]),document.head.setAttribute("data-inboxsdk-action-token-value",e.GM_ACTION_TOKEN);var r=(0,i.default)(e.GLOBALS[17],(e=>"p"===e[0]));if(!r)return;var s=r[1],a=u(s,"bx_lab_1252"),c=u(s,"bx_spa"),l=u(s,"bx_spo"),f=a&&c?l?"vertical":"horizontal":"none";document.head.setAttribute("data-inboxsdk-user-preview-pane-mode",f)}else{const e="window.BT_EmbeddedAppData=[",t=(0,i.default)(document.querySelectorAll("script:not([src])"),(t=>t.text&&t.text.slice(0,500).indexOf(e)>-1));if(t){const{text:n}=t,r=n.indexOf("window.BT_EmbeddedAppData=[");let i=n.indexOf("]\n;",r);-1===i&&(i=n.indexOf("];",r));const s=JSON.parse(n.slice(r+e.length-1,i+1)),a=s[11];"string"!=typeof a?o.error(new Error("Could not find valid ikValue")):document.head.setAttribute("data-inboxsdk-ik-value",a);const u=s[12];"string"!=typeof u?o.error(new Error("Could not find valid xsrfToken")):document.head.setAttribute("data-inboxsdk-xsrf-token",u)}else o.error(new Error("Could not read preloaded BT_EmbeddedAppData"))}}})).catch((t=>{function n(){return{hasGLOBALS:!!e.GLOBALS,hasGbar:!!e.gbar}}var r=n(),i=18e4;throw setTimeout((()=>{var e=n();o.eventSdkPassive("waitfor global data",{startStatus:r,waitTime:i,laterStatus:e})}),i),t})).catch(o.error)};var i=r(e("lodash/find")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("./injected-logger")),s=r(e("../platform-implementation-js/lib/wait-for"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function u(e,t){var n=(0,i.default)(e,(e=>e[0]===t));return!!n&&function(e){switch(""+e){case"1":case"t":case"true":return!0;default:return!1}}(n[1])}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../platform-implementation-js/lib/wait-for":296,"./injected-logger":274,"@babel/runtime/helpers/interopRequireDefault":5,"lodash/find":195}],278:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=[];document.addEventListener("inboxSDKsilencePageErrors",(function(t){e.push(window.onerror),window.onerror=function(){return!0}})),document.addEventListener("inboxSDKunsilencePageErrors",(function(t){window.onerror=e.pop()}))}},{}],279:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){document.addEventListener("inboxsdk_event_relay",(function(e){const t=document.createEvent("Events");if(t.initEvent(e.detail.type,e.detail.bubbles,e.detail.cancelable),Object.assign(t,e.detail.props),e.detail.dataTransfer){const{files:n,fileNames:r}=e.detail.dataTransfer;r&&r.forEach(((e,t)=>{const r=n[t];"string"!=typeof r.name&&(r.name=e)})),t.dataTransfer={dropEffect:"none",effectAllowed:"all",files:n,items:n.map(((e,t)=>{let{type:r}=e;return{kind:"file",type:r,getAsFile:()=>n[t],getAsString(){throw new Error("getAsString not supported")}}})),types:["Files"],getData:()=>"",setData(){},setDragImage(){}}}e.target.dispatchEvent(t)}))}},{}],280:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){document.addEventListener("keydown",_,!0)};var i=e("ud"),o=r(e("lodash/includes")),s=r(e("closest-ng")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("./injected-logger"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return{value:e,configurable:!0}}const l=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End","Enter"],f=["Left","Right","Up","Down"],h="!#[]{}_+=-;:\r\n1234567890`~",p=",xsyemrafz.ujkpnl",d="parfniut";const _=(0,i.defn)(t,(function(e){try{(function(e){if(!document.body.classList.contains("inboxsdk__custom_view_active"))return!1;const t=e.target,n=e.key||String.fromCharCode(e.which||e.keyCode);return!("Escape"!==e.key||!(0,s.default)(t,".inboxsdk__custom_view"))||!!((0,o.default)(l,n)||(0,o.default)(f,e.keyIdentifier)||(0,o.default)(h,n)||!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&!e.altKey&&(0,o.default)(p,n)||e.shiftKey&&!e.ctrlKey&&!e.metaKey&&!e.altKey&&(0,o.default)(d,n.toLowerCase()))&&!((0,s.default)(t,"input, textarea, button, [contenteditable]")||!(0,s.default)(t,".inboxsdk__custom_view")&&(0,s.default)(t,"[role=button], [role=link]"))})(e)&&Object.defineProperties(e,{altKey:c(!1),ctrlKey:c(!1),shiftKey:c(!1),metaKey:c(!1),charCode:c(92),code:c("Backslash"),key:c("\\"),keyCode:c(92),which:c(92)})}catch(e){a.error(e)}}))},{"./injected-logger":274,"@babel/runtime/helpers/interopRequireDefault":5,"closest-ng":21,"lodash/includes":203,ud:247}],281:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=new Set;document.addEventListener("inboxSDKregisterAllowedHashLinkStartTerm",(function(t){const n=t.detail.term;e.add(n)})),document.addEventListener("click",(function(t){const n=t.target;if(!(n instanceof HTMLElement))return;const r=(0,i.default)(n,'a[href^="#"]');if(!(r&&r instanceof HTMLAnchorElement))return;const o=/^#([^/]+)/.exec(r.getAttribute("href")||"");if(!o)return;const s=o[1];e.has(s)&&(t.preventDefault=()=>{})}),!0)};var i=r(e("closest-ng"))},{"@babel/runtime/helpers/interopRequireDefault":5,"closest-ng":21}],282:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=history.pushState;history.pushState=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.apply(this,n);return document.dispatchEvent(new CustomEvent("inboxSDKpushState",{bubbles:!1,cancelable:!1,detail:{args:n}})),i}}},{}],283:[function(e,t,n){(function(t){(function(){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){document.addEventListener("inboxSDKpageAjax",(function(e){const n=e.detail.id,r={url:e.detail.url,method:e.detail.method,headers:e.detail.headers,xhrFields:e.detail.xhrFields,data:e.detail.data};t.fetch?(async()=>{const e=await fetch(r.url,{method:r.method||"GET",credentials:"include"});document.dispatchEvent(new CustomEvent("inboxSDKpageAjaxDone",{bubbles:!1,cancelable:!1,detail:{id:n,error:!1,text:await e.text(),responseURL:e.url}}))})().catch((e=>{document.dispatchEvent(new CustomEvent("inboxSDKpageAjaxDone",{bubbles:!1,cancelable:!1,detail:{id:n,error:!0,message:e&&e.message,stack:e&&e.stack,status:e&&e.xhr&&e.xhr.status}}))})):(0,i.default)(r).then((e=>{let{text:t,xhr:r}=e;document.dispatchEvent(new CustomEvent("inboxSDKpageAjaxDone",{bubbles:!1,cancelable:!1,detail:{id:n,error:!1,text:t,responseURL:r.responseURL}}))}),(e=>{document.dispatchEvent(new CustomEvent("inboxSDKpageAjaxDone",{bubbles:!1,cancelable:!1,detail:{id:n,error:!0,message:e&&e.message,stack:e&&e.stack,status:e&&e.xhr&&e.xhr.status}}))}))}))};var i=r(e("../common/ajax"))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../common/ajax":252,"@babel/runtime/helpers/interopRequireDefault":5}],284:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){const r=n&&n.logError||function(e,t){setTimeout((function(){throw e}),1)};function d(e,t,n){const r={};return Object.keys(n).concat(["bubbles","cancelBubble","cancelable","defaultPrevented","preventDefault","stopPropagation","stopImmediatePropagation","lengthComputable","loaded","total","type","currentTarget","target","srcElement","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","eventPhase"]).filter((e=>e in n)).forEach((i=>{const o=n[i];r[i]=o===e?t:"function"==typeof o?o.bind(n):o})),r}function _(e,t,n){return function(r){return n.call(t,d(e,t,r))}}function y(){this._wrappers=t,this._listeners={},this._boundListeners={},this._events=new f.default,this.responseText="",this._openState=!1,e.bind&&e.bind.apply?this._realxhr=new(e.bind.apply(e,[null].concat(arguments))):this._realxhr=new e;const n=this,i=(e,t)=>{if(this["on"+e])try{_(this._realxhr,this,this["on"+e]).call(this,t)}catch(e){r(e,"XMLHttpRequest event listener error")}(0,s.default)(this._boundListeners[e],(e=>{try{e(t)}catch(e){r(e,"XMLHttpRequest event listener error")}}))},a=e=>{i("readystatechange",e)};this._fakeRscEvent=function(){a(Object.freeze({bubbles:!1,cancelBubble:!1,cancelable:!1,defaultPrevented:!1,preventDefault:o.default,stopPropagation:o.default,stopImmediatePropagation:o.default,type:"readystatechange",currentTarget:this,target:this,srcElement:this,NONE:0,CAPTURING_PHASE:1,AT_TARGET:2,BUBBLING_PHASE:3,eventPhase:0}))};const u=e=>{this.readyState=4;var t=200==this.status,n=Object.assign({},d(this._realxhr,this,e),{lengthComputable:!1,loaded:0,total:0});(!this._realxhr.responseType||"text"==this._realxhr.responseType)&&(0,s.default)(this._activeWrappers,(e=>{if(e.finalResponseTextLogger)try{e.finalResponseTextLogger(this._connection,this.responseText)}catch(e){r(e)}})),a(e),i(t?"load":"error",n),i("loadend",n),(0,s.default)(this._activeWrappers,(e=>{if(e.afterListeners)try{e.afterListeners(this._connection)}catch(e){r(e)}}))};this._realxhr.addEventListener("readystatechange",(e=>{if(!this._connection)return;this._realxhr.readyState>=2&&(this._connection.status=this._realxhr.status);const t=!this._realxhr.responseType||"text"==this._realxhr.responseType;if(4==this._realxhr.readyState){if(t){Object.defineProperty(this._connection,"originalResponseText",{enumerable:!0,writable:!1,configurable:!1,value:n._realxhr.responseText}),(0,s.default)(this._activeWrappers,(e=>{if(e.originalResponseTextLogger)try{e.originalResponseTextLogger(this._connection,this._connection.originalResponseText)}catch(e){r(e)}}));const t=(0,c.default)(u.bind(null,e));if(this._connection.async){const e=this._connection;return void(async()=>{let t=e.originalResponseText;e.modifiedResponseText=t;for(let n of this._responseTextChangers){const r=setTimeout((()=>{console.warn("responseTextChanger is taking too long",n,e)}),p);try{t=await n(e,t)}finally{clearTimeout(r)}if("string"!=typeof t)throw new Error("responseTextChanger returned non-string value "+t);if(e.modifiedResponseText=t,e!==this._connection)break}return t})().then((r=>{e===n._connection&&(this.responseText=r,t())}),(n=>{r(n),e===this._connection&&(this.responseText=this._realxhr.responseText,t())})).catch(r)}n.responseText=n._realxhr.responseText}else n.responseText="";u(e)}else{if(1==n._realxhr.readyState&&1==n.readyState)return;n._realxhr.readyState>=3&&t?n._responseTextChangers.length?n.responseText="":n.responseText=n._realxhr.responseText:n.responseText="",n.readyState=n._realxhr.readyState,a(e)}}),!1),["dispatchEvent","getAllResponseHeaders","getResponseHeader","overrideMimeType","responseType","responseXML","responseURL","status","statusText","timeout","ontimeout","onloadstart","onprogress","onabort","upload","withCredentials"].forEach((function(e){Object.defineProperty(n,e,{enumerable:!0,configurable:!1,get:function(){return"function"==typeof n._realxhr[e]?n._realxhr[e].bind(n._realxhr):n._realxhr[e]},set:function(t){"function"==typeof t&&(t=_(this._realxhr,this,t)),n._realxhr[e]=t}})})),Object.defineProperty(n,"response",{enumerable:!0,configurable:!1,get:function(){return this._realxhr.responseType&&"text"!=this._realxhr.responseType?this._realxhr.response:this.responseText}}),n.readyState=n._realxhr.readyState}return y.prototype.abort=function(){this._clientStartedSend&&!this._realStartedSend&&(0!=this.readyState&&0==this._realxhr.readyState&&this._realxhr.open(this._connection.method,this._connection.url),this._realStartedSend=!0,this._realxhr.send()),this._realxhr.abort()},y.prototype.setRequestHeader=function(e,t){var n=this;if(1!=this.readyState&&console.warn("setRequestHeader improperly called at readyState "+this.readyState),!this._openState)throw new Error("Can only set headers after open and before send");this._connection.headers[e]=t,this._connection.async&&this._requestChangers.length?this._events.once("realOpen",(function(){n._realxhr.setRequestHeader(e,t)})):this._realxhr.setRequestHeader(e,t)},y.prototype.addEventListener=function(e,t){if(this._listeners[e]||(this._listeners[e]=[],this._boundListeners[e]=[]),!(0,u.default)(this._listeners[e],t)){var n=_(this._realxhr,this,t);this._listeners[e].push(t),this._boundListeners[e].push(n),(0,u.default)(["readystatechange","load","error","loadend"],e)||this._realxhr.addEventListener(e,n,!1)}},y.prototype.removeEventListener=function(e,t){if(this._listeners[e]){var n=this._listeners[e].indexOf(t);if(-1!=n){this._listeners[e].splice(n,1);var r=this._boundListeners[e].splice(n,1)[0];"readystatechange"!=e&&this._realxhr.removeEventListener(e,r,!1)}}},y.prototype.open=function(t,n,i){if(!(this instanceof y))return e.prototype.open.apply(this,arguments);var o=this;function s(e,t){return o._realxhr.open(e,t,o._connection.async)}this._connection={method:t,url:n,params:(0,h.parse)(n.split("?")[1]||""),headers:{},async:arguments.length<3||!!i},this._clientStartedSend=!1,this._realStartedSend=!1,this._activeWrappers=function(e,t){return(0,a.default)(e,(function(e){try{return e.isRelevantTo(t)}catch(e){r(e)}}))}(this._wrappers,this._connection),this._responseTextChangers=this._activeWrappers.map((function(e){return e.responseTextChanger&&e.responseTextChanger.bind(e)})).filter(Boolean),this.responseText="",this._openState=!0,this._connection.async?(this._requestChangers=this._activeWrappers.map((function(e){return e.requestChanger&&e.requestChanger.bind(e)})).filter(Boolean),this._requestChangers.length?1!=this.readyState&&(this.readyState=1,this._fakeRscEvent()):s(t,n)):s(t,n)},y.prototype.send=function(e){var t=this;function n(e){t._realStartedSend=!0,t._realxhr.send(e)}if(this._clientStartedSend=!0,this._openState=!1,Object.defineProperty(this._connection,"originalSendBody",{enumerable:!0,writable:!1,configurable:!1,value:e}),this._connection.responseType=this._realxhr.responseType||"text",(0,s.default)(t._activeWrappers,(function(n){if(n.originalSendBodyLogger)try{n.originalSendBodyLogger(t._connection,e)}catch(e){r(e)}})),this._connection.async&&this._requestChangers.length){const t=this._connection,o={method:this._connection.method,url:this._connection.url,body:e};(async()=>{let e=o;for(let n of this._requestChangers){const r=setTimeout((()=>{console.warn("requestChanger is taking too long",n,t)}),p);try{e=await n(this._connection,Object.freeze(e))}finally{clearTimeout(r)}if((0,l.default)((0,i.default)(e,"method"),"modifiedRequest has method"),(0,l.default)((0,i.default)(e,"url"),"modifiedRequest has url"),(0,l.default)((0,i.default)(e,"body"),"modifiedRequest has body"),t!==this._connection||this._realStartedSend)break}return e})().catch((e=>(r(e),o))).then((e=>{t!==this._connection||this._realStartedSend||(this._realxhr.open(e.method,e.url),this._events.emit("realOpen"),n(e.body))}))}else n(e)},[y,y.prototype].forEach((function(e){Object.assign(e,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4})})),y};var i=r(e("lodash/has")),o=r(e("lodash/noop")),s=r(e("lodash/each")),a=r(e("lodash/filter")),u=r(e("lodash/includes")),c=r(e("lodash/once")),l=r(e("assert")),f=r(e("events")),h=e("querystring");const p=6e4},{"@babel/runtime/helpers/interopRequireDefault":5,assert:16,events:22,"lodash/each":191,"lodash/filter":194,"lodash/has":200,"lodash/includes":203,"lodash/noop":223,"lodash/once":224,querystring:242}],285:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=async function(e,t){const[n,r]=await Promise.all([e.getPageCommunicator().getBtaiHeader(),e.getPageCommunicator().getXsrfToken()]);return a(t,n,r)},n.getThreadFromSyncThreadIdUsingHeaders=a;e("ud");var i=r(e("../../../driver-common/gmailAjax")),o=e("../gmail-sync-response-processor"),s=r(e("../../../driver-common/getAccountUrlPart"));async function a(e,t,n){let r=null;try{let{text:o}=await(0,i.default)({method:"POST",url:`https://mail.google.com/sync${(0,s.default)()}/i/fd`,headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":n,"X-Gmail-BTAI":t,"X-Google-BTD":"1"},data:JSON.stringify({1:[{1:e,2:1}]})});r=o}catch(o){let{text:a}=await(0,i.default)({method:"POST",url:`https://mail.google.com/sync${(0,s.default)()}/i/fd?rt=r&pt=ji`,headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":n,"X-Gmail-BTAI":t,"X-Google-BTD":"1"},data:JSON.stringify([[[e,1]],2])});r=a}const a=(0,o.extractThreadsFromThreadResponse)(r);if(a.length>0){const e=a[0];if(e.oldGmailThreadID)return e}return null}},{"../../../driver-common/getAccountUrlPart":288,"../../../driver-common/gmailAjax":289,"../gmail-sync-response-processor":287,"@babel/runtime/helpers/interopRequireDefault":5,ud:247}],286:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.cleanupPeopleLine=w,n.deserialize=_,n.deserializeArray=y,n.extractGmailMessageIdFromSentEmail=l,n.extractGmailThreadIdFromMessageIdSearch=function(e){const t=_(e).value,n=S(t,"cs",(e=>"cs"===e[0]&&e.length>20));if(!n)return null;return n[1]},n.extractGmailThreadIdFromSentEmail=f,n.extractMessageIdsFromThreadBatchRequest=function(e){const{value:t}=_(e);return s.default.toObj(t,b)},n.extractMessages=function(e){let{value:t}=_(e);1===t.length&&(t=t[0]);const n=s.default.toArray(t,E),r=s.default.toArray(t,A),i={};return r.forEach((e=>{i[e.messageID]=e})),n.map((e=>{let{threadID:t,messageIDs:n}=e;return{threadID:t,messages:n.map((e=>i[e]))}}))},n.extractThreads=function(e){return g(_(e).value)},n.extractThreadsFromDeserialized=g,n.interpretSentEmailResponse=function(e){const t=_(e).value,n=l(t),r=f(t)||n;if(!n||!r)throw new Error("Failed to read email response");return{threadID:r,messageID:n}},n.readDraftId=function(e,t){const n=_(e).value,r=s.default.toArray(n,s.default.compose(s.default.cat,s.default.filter(Array.isArray),s.default.cat,s.default.filter((e=>"ms"===e[0]&&e[1]===t)),s.default.take(1),s.default.map((e=>e[60]))))[0];if(r){const e=r.match(/^msg-[^:]:(\S+)$/i);return e&&e[1]}return null},n.replaceThreadsInResponse=function(e,t,n){let{start:r,total:u}=n;const{value:c,options:l}=_(e),f=1===c.length&&2===c[0].length&&"string"==typeof c[0][1],h=f?c[0][0].map((e=>[e])):c,p=[],d=[];let y=[],v=[],g=!1;h.forEach((e=>{let t=!1;const n=[],r=[];e.forEach((e=>{if(u&&"ti"===e[0])if("number"==typeof u)e[2]=e[10]=u;else if("MANY"===u){e[2]=e[10]=1e5,e[3]=1;const t=e[5];e[6]?e[6][0]=[t,1]:console.error("replaceThreadsInResponse(): Missing item[6]")}"tb"===e[0]?(g=t=!0,n.length&&(y=n),v=r):g?r.push(e):n.push(e)})),t||(g?d.push(r):p.push(n))}));const b=function(e,t){const n=s.default.compose(s.default.map((e=>e._originalGmailFormat)),s.default.partition(10),(0,a.default)(((e,n)=>[["tb",t+10*n,e]])));return s.default.toArray(e,n)}(t,r);y.length&&(b[0]=y.concat(b[0]||[]));v.length&&(b.length?b[b.length-1]=b[b.length-1].concat(v):b.push(v));const w=(0,i.default)([p,b,d]),x=(0,i.default)(w),E=(0,o.default)(x);if("e"!==E[0])throw new Error("Failed to find end section");E[1]=x.length;return m(f?[[(0,i.default)(w),c[0][1]]]:w,l)},n.rewriteSingleQuotes=h,n.serialize=m;var i=r(e("lodash/flatten")),o=r(e("lodash/last")),s=r(e("transducers.js")),a=r(e("map-indexed-xf")),u=r(e("assert")),c=r(e("../../../common/html-to-text"));function l(e){const t=S(e,"a",(e=>e.length>3&&Array.isArray(e[3])&&e[3].length>0));return t?t[3][0]:null}function f(e){const t=S(e,"csd",(function(e){return 3==e.length&&Array.isArray(e[2])&&e[2].length>5}));return t?t[1]:null}function h(e){let t=0;const n=[];for(;;){const r=p(e,t);if(r<0){n.push(e.substr(t));break}if(n.push(e.substr(t,r-t)),n.push('"'),t=r+1,'"'===e[r]){const r=d(e,t,'"');if(r<0)throw new Error("Unclosed double quote");n.push(e.slice(t,r+1)),t=r+1}else{const r=d(e,t,"'");if(r<0)throw new Error("Unclosed single quote");const i=e.slice(t,r).replace(/"/g,'\\"').replace(/\\'/g,"'");n.push(i),n.push('"'),t=r+1}}return n.join("")}function p(e,t){for(let n=t,r=e.length;n<r;n++)if('"'===e[n]||"'"===e[n])return n;return-1}function d(e,t,n){for(let r=t,i=e.length;r<i;r++)if("\\"===e[r])r++;else if(e[r]===n)return r;return-1}function _(e){const t={includeLengths:!1,suggestionMode:/^5\n/.test(e),noArrayNewLines:!/^[,\]]/m.test(e),includeExplicitNulls:!0},n=[];let r;if(t.suggestionMode){if(r=e.indexOf("'\n"),-1===r)throw new Error("Message was missing beginning header");r+=2}else{if(r=e.indexOf("\n\n"),-1===r)throw new Error("Message was missing beginning newlines");r+=2}for(;r<e.length;){let i=e.indexOf("\n",r+1);-1===i?i=e.length:"\r"===e[i-1]&&(i+=1);const o=e.slice(r,i);let s;if(/^\d+\s*$/.test(o)){t.includeLengths=!0;const n=+o;s=e.slice(i,i+n),r=i+n}else s=e.slice(r),r=e.length;n.push(y(s))}return{value:n,options:t}}function y(e){e=function(e,t){const n=[];let r,i=0,o=!1;for(;-1!==(r=d(e,i,'"'));)o?n.push(e.slice(i,r+1)):n.push(t(e.slice(i,r+1))),i=r+1,o=!o;if(o)throw new Error("string ended inside quoted section");return n.push(t(e.slice(i))),n.join("")}(e=h(e=e.replace(/[\r\n\t]/g,"")),(e=>e.replace(/,\s*(?=,|\])/g,",null").replace(/\[\s*(?=,)/g,"[null")));try{return JSON.parse(e,((e,t)=>null==t?void 0:t))}catch(e){throw new Error("deserialization error")}}function m(e,t){return t.suggestionMode?((0,u.default)(t.includeLengths),function(e,t){let n="5\n)]}'\n";for(let r=0;r<e.length;r++){const i=v(e[r],!1,t);n+=i.length+"\r\n"+i}return n}(e,t.includeExplicitNulls)):function(e,t){const{includeLengths:n,noArrayNewLines:r,includeExplicitNulls:i}=t;let o=")]}'\n"+(r&&n?"":"\n");for(let t=0;t<e.length;t++){const s=v(e[t],r,i);if(n){o+=(r?"\n":"")+(s.length+(r?2:1))+"\n"+s}else o+=s}if(!n)if(r)o=o.replace(/"([0-9a-f]{8,16})"\]$/,"'$1']");else{const e=o.split(/\r|\n/),t=e.slice(0,-3),n=e.slice(-3);o=t.join("\n"),o+="\n"+n[0]+n[1].replace(/"/g,"'")}return o+(r&&n?"\n":"")}(e,t)}function v(e,t,n){let r="[";for(let i=0;i<e.length;i++){const o=e[i];let s;s=Array.isArray(o)?v(o,t,n):null==o?n?"null":"":JSON.stringify(o).replace(/</gim,"\\u003c").replace(/=/gim,"\\u003d").replace(/>/gim,"\\u003e").replace(/&/gim,"\\u0026"),i>0&&(r+=","),r+=s}return r+="]"+(t?"":"\n"),r}function g(e){return 1===e.length&&2===e[0].length&&"string"==typeof e[0][1]&&(e=[e[0][0]]),(t=e,s.default.toArray(t,x)).map((e=>Object.freeze(Object.defineProperty({subject:(0,c.default)(e[9]),shortDate:(0,c.default)(e[14]),timeString:(0,c.default)(e[15]),peopleHtml:w(e[7]),timestamp:e[16]/1e3,isUnread:e[9].indexOf("<b>")>-1,lastEmailAddress:e[28],bodyPreviewHtml:e[10],someGmailMessageIds:[e[1],e[2]],gmailThreadId:e[0]},"_originalGmailFormat",{value:e}))));var t}const b=s.default.compose(s.default.cat,s.default.cat,s.default.filter((e=>"cs"===e[0])),s.default.map((e=>[e[1],e[2]])));function w(e){return e.replace(/^[^<]*/,"").replace(/(<span[^>]*) class="[^"]*"/g,"$1")}const x=s.default.compose(s.default.cat,s.default.filter((e=>"tb"===e[0])),s.default.map((e=>e[2])),s.default.cat);const E=s.default.compose(s.default.cat,s.default.filter((e=>"cs"===e[0])),s.default.map((e=>({threadID:e[1],messageIDs:e[8]})))),A=s.default.compose(s.default.cat,s.default.filter((e=>"ms"===e[0])),s.default.map((e=>({messageID:e[1],date:e[7]}))));function S(e,t,n){const r=function(e,t,n){const r=[],i=[{el:e,path:[]}];for(;i.length>0;){const e=i.pop();if(e.path.length<=n)if(null!==e.el&&"object"==typeof e.el){const t=Object.keys(e.el);for(let n=0;n<t.length;n++){const r=t[n],o={el:e.el[r],path:e.path.concat([r])};i.push(o)}}else e.el===t&&r.push(e)}return r}(e,t,100);for(let t=0;t<r.length;t++){const i=O(e,r[t].path.slice(0,-1));if(n(i))return i}}function O(e,t){let n=e;for(let e=0;e<t.length;e++)n=n[t[e]];return n}},{"../../../common/html-to-text":257,"@babel/runtime/helpers/interopRequireDefault":5,assert:16,"lodash/flatten":197,"lodash/last":221,"map-indexed-xf":235,"transducers.js":246}],287:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.extractThreadsFromSearchResponse=function(e){const t=JSON.parse(e);if(Array.isArray(t))try{return s(t)}catch(e){return[]}const n=t&&t[3];return n?n.map(((e,n)=>{const r=e[1];return r?{subject:r[1],snippet:r[2],syncThreadID:r[4],oldGmailThreadID:null!=r[18]?new i.default(r[18]).toString(16):r[20],rawResponse:e,extraMetaData:{snippet:t[15]&&t[15][1]&&t[15][1][n]||"",syncMessageData:r[5].map((e=>({syncMessageID:e[1],oldMessageID:e[56],date:+e[7]})))}}:null})).filter(o.default):[]},n.extractThreadsFromSearchResponse_20220909=s,n.extractThreadsFromThreadResponse=function(e){const t=JSON.parse(e);if(Array.isArray(t))return function(e){const t=e&&e[1];if(!t)throw new Error("Failed to process thread response");return t.map((e=>{if("string"!=typeof e[0]||!Array.isArray(e[2])||e[1]&&e[1][0]&&e[1][0][13]&&Array.isArray(e[1][1])){const t=e[1]&&e[1][0];if(!t)return null;let n;const r=Array.isArray(e[2])&&e[2];if(r)n=r.map((e=>({syncMessageID:e[0],date:+e[1][16],recipients:u(e)})));else{n=(e[1]&&e[1][1]).map((e=>({syncMessageId:e[0],date:+e[15]})))}return{subject:t[1],snippet:t[2],syncThreadID:t[0],oldGmailThreadID:new i.default(t[13]).toString(16),rawResponse:e,extraMetaData:{syncMessageData:n,snippet:""}}}return{syncThreadID:e[0],oldGmailThreadID:e[1]&&e[1][0]&&e[1][0][15]||void 0,extraMetaData:{snippet:e[1]&&e[1][0]&&e[1][0][2]||void 0,syncMessageData:(e[2]||[]).filter((e=>Boolean(e[1]))).map((e=>({syncMessageID:e[0],date:+e[1][16],recipients:u(e)})))}}})).filter(o.default)}(t);const n=t&&t[2];if(!n)throw new Error("Failed to process thread response");return n.map((e=>{if("string"!=typeof e[1]||!Array.isArray(e[3])||e[2]&&e[2][1]&&e[2][1][14]&&Array.isArray(e[2][2])){const t=e[2]&&e[2][1];if(!t)return null;let n;const r=Array.isArray(e[3])&&e[3];if(r)n=r.map((e=>({syncMessageID:e[1],date:+e[2][17],recipients:a(e)})));else{n=(e[2]&&e[2][2]).map((e=>({syncMessageId:e[1],date:+e[16]})))}return{subject:t[2],snippet:t[3],syncThreadID:t[1],oldGmailThreadID:new i.default(t[14]).toString(16),rawResponse:e,extraMetaData:{syncMessageData:n,snippet:""}}}return{syncThreadID:e[1],oldGmailThreadID:e[2]&&e[2][1]&&e[2][1][16]||void 0,extraMetaData:{snippet:e[2]&&e[2][1]&&e[2][1][3]||void 0,syncMessageData:(e[3]||[]).filter((e=>Boolean(e[2]))).map((e=>({syncMessageID:e[1],date:+e[2][17],recipients:a(e)})))}}})).filter(o.default)},n.replaceThreadsInSearchResponse=function(e,t,n){const r=JSON.parse(e);if(Array.isArray(r))try{return c(r,t,n)}catch(t){return e}(r[3]||t.length)&&(r[3]=t.map(((e,t)=>{let{rawResponse:n}=e;return{...n,2:t}})));(r[15]||t.length)&&(r[15]={...r[15],1:t.map((e=>{let{extraMetaData:t}=e;return t.snippet})),2:t.map((e=>{let{extraMetaData:t}=e;return t.syncMessageData.map((e=>{let{syncMessageID:t}=e;return t}))}))});return JSON.stringify(r)},n.replaceThreadsInSearchResponse_20220909=c;var i=r(e("bignumber.js")),o=r(e("../../lib/isNotNil"));function s(e){const t=e&&e[2];return t?t.map(((t,n)=>{const r=t[0];return r?{subject:r[0],snippet:r[1],syncThreadID:r[3],oldGmailThreadID:null!=r[17]?new i.default(r[17]).toString(16):r[19],rawResponse:t,extraMetaData:{snippet:e[14]&&e[14][0]&&e[14][0][n]||"",syncMessageData:r[4].map((e=>({syncMessageID:e[0],oldMessageID:e[55],date:+e[6]})))}}:null})).filter(o.default):[]}function a(e){if(!e[2])return;const t=e[2][1]||[],n=e[2][2]||[],r=e[2][3]||[];return t.concat(n).concat(r).map((e=>({emailAddress:e[2],name:e[3]})))}function u(e){if(!e[1])return;const t=e[1][0]||[],n=e[1][1]||[],r=e[1][2]||[];return t.concat(n).concat(r).map((e=>({emailAddress:e[1],name:e[2]})))}function c(e,t,n){return(e[2]||t.length)&&(e[2]=t.map(((e,t)=>{let{rawResponse:n}=e;const r=[...n];return r[1]=t,r}))),(e[14]||t.length)&&(e[14]=[...e[14]],e[14][0]=t.map((e=>{let{extraMetaData:t}=e;return t.snippet})),e[14][1]=t.map((e=>{let{extraMetaData:t}=e;return t.syncMessageData.map((e=>{let{syncMessageID:t}=e;return t}))}))),JSON.stringify(e)}},{"../../lib/isNotNil":294,"@babel/runtime/helpers/interopRequireDefault":5,"bignumber.js":19}],288:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=document.location.pathname.match(/\/b\/(.+?)\/u\/(\d+)/);if(e){const t=e[1];return`/u/${e[2]}/d/${t}`}{const e=document.location.pathname.match(/(\/u\/\d+)\//i);return e?e[1]:"/u/0"}}},{}],289:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("ud"),o=r(e("kefir")),s=r(e("../lib/imageRequest")),a=r(e("../../common/rate-limit-queuer")),u=r(e("../../common/ajax"));const c=6e4,l=(0,a.default)((0,a.default)(u.default,1e3,7),1e4,50);var f=(0,i.defn)(t,(async function(e){if(!/^https:\/\/mail\.google\.com(?:$|\/)/.test(e.url))throw new Error("Should not happen: gmailAjax called with non-gmail url");if("https://mail.google.com"===document.location.origin)return await l(e);try{return await l({...e,canRetry:!1})}catch(t){if(t&&0===t.status){try{await o.default.fromPromise((0,s.default)("https://mail.google.com/mail/u/0/")).merge(o.default.later(c,void 0)).take(1).takeErrors(1).toPromise()}catch(e){}return await l(e)}if(t&&"number"==typeof t.status&&t.status>=500)return await l(e);throw t}}));n.default=f},{"../../common/ajax":252,"../../common/rate-limit-queuer":259,"../lib/imageRequest":293,"@babel/runtime/helpers/interopRequireDefault":5,kefir:29,ud:247}],290:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("ud"),o=r(e("querystring")),s=r(e("./gmailAjax")),a=r(e("./getAccountUrlPart"));var u=(0,i.defn)(t,(async function(e,t){const n={ui:2,ik:e,view:"cv",th:t,pcd:1,mb:0,rt:"c",search:"inbox",type:t},{text:r}=await(0,s.default)({method:"POST",url:`https://mail.google.com/mail${(0,a.default)()}?${o.default.stringify(n)}`,canRetry:!0});return r}));n.default=u},{"./getAccountUrlPart":288,"./gmailAjax":289,"@babel/runtime/helpers/interopRequireDefault":5,querystring:242,ud:247}],291:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e||!e.nodeType)throw new Error("Expected element, got "+String(e));return o.stream((t=>{const n=new Map;let r=!1;function o(e){if(1!==e.nodeType)return;n.has(e)&&u(new Error("Already had removalStream for element with class "+e.className));const r=(0,s.default)();n.set(e,r);try{t.emit({el:e,removalStream:r})}catch(e){u(e)}}function a(e){if(1!==e.nodeType)return;const t=n.get(e);if(n.delete(e),t)try{t.destroy()}catch(e){u(e)}else u(new Error("Could not find removalStream for element with class "+e.className))}const c=new MutationObserver((function(e){e.forEach((e=>{Array.prototype.forEach.call(e.addedNodes,o),Array.prototype.forEach.call(e.removedNodes,a)}))}));return(0,i.default)((()=>{r||(c.observe(e,{childList:!0}),Array.prototype.slice.call(e.children).forEach(o))})),function(){r=!0,c.disconnect(),(0,i.default)((()=>{n.forEach((e=>{e.destroy()}))}))}}))};var i=r(e("asap")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("kefir")),s=r(e("kefir-stopper"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function u(e){setTimeout((()=>{throw e}),1)}},{"@babel/runtime/helpers/interopRequireDefault":5,asap:14,kefir:29,"kefir-stopper":28}],292:[function(e,t,n){"use strict";function r(e,t){const n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,0,e.offsetLeft,e.offsetTop,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,n.simulateClick=function(e){r(e,"mousedown"),r(e,"mouseup"),r(e,"click"),r(e,"mouseleave"),r(e,"mouseout"),e.blur()},n.simulateHover=function(e){r(e,"mouseover")}},{}],293:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new Promise(((t,n)=>{const r=new Image;r.addEventListener("load",(()=>t(r))),r.addEventListener("error",n),r.src=e}))}},{}],294:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return null!=e}},{}],295:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return"f471fe7b7343b47a202437c3962cc335"===function(e){const t=new i.default;return t.update("bdnanNrDjv"+e),t.digest("hex").slice(0,32)}(e)};var i=r(e("sha.js/sha256"))},{"@babel/runtime/helpers/interopRequireDefault":5,"sha.js/sha256":245}],296:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;const r=new Error("waitFor timeout");return new Promise((function(i,o){let s=0;setTimeout((function a(){try{const u=e();u?i(u):s>=t?o(r):(s+=n,setTimeout(a,n))}catch(e){o(e)}}),1)}))}},{}]},{},[275]);
//# sourceMappingURL=pageWorld.js.map
